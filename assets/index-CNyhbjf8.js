const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./dummyChart-DB8XzMG7.js","./echarts-CXbKwPZV.js","./libs-D-uoNQCp.js","./index-CfcGq_Y-.js","./arcoDesign-CRyOpHTj.js","./index-DHye1OL3.css"])))=>i.map(i=>d[i]);
import{u as $,a as W,g as G,j as H,k as ve,_ as we,f as ie,l as xe}from"./index-CfcGq_Y-.js";import{a as w,B,ai as j,L as ae,O as _e,F as ge,G as Q,as as oe,v as fe,T as he,S as ye,H as X,a5 as ne,C as z,at as ke,c as De,E as Se,U as Oe,Q as Ve,R as Te,V as Ae}from"./arcoDesign-CRyOpHTj.js";import{u as J,E as K,i as Y,a as re,b as be,c as Z,d as se,e as le,f as Ce}from"./echarts-CXbKwPZV.js";import{f as U,a6 as R,r as A,a as ee,c as F,w as te,a8 as M,j as f,s as b,t as e,y as a,a2 as t,v as m,x as _,u as Pe,l as Le,a9 as Ue,k as Re,P as Ie,F as Ee}from"./libs-D-uoNQCp.js";import{I as $e}from"./index-rThTObCo.js";async function Be(h,o=!1,d){const s=$();await s.serverAvailable;const n=new URLSearchParams({type:"count",field:h,filter:o?"0.01":"0"});d&&n.append("downloader",d);const c=new URL(W(s.endpoint,"api/statistic/analysis/field?"+n.toString()),location.href);return fetch(c,{headers:G()}).then(i=>(s.assertResponseLogin(i),i.json()))}async function je(h,o,d,s){const n=$();await n.serverAvailable;const c=new URL(W(n.endpoint,"api/chart/geoIpInfo"),location.href),i=h.getTime(),y=o.getTime();return c.searchParams.append("startAt",i.toString()),c.searchParams.append("endAt",y.toString()),c.searchParams.append("bannedOnly",String(d)),s&&c.searchParams.append("downloader",s),fetch(c,{headers:G()}).then(k=>(n.assertResponseLogin(k),k.json()))}async function ze(h,o,d){const s=$();await s.serverAvailable;const n=new URLSearchParams({startAt:h.getTime().toString(),endAt:o.getTime().toString()});d&&n.append("downloader",d);const c=new URL(W(s.endpoint,"api/statistic/analysis/banTrends?"+n.toString()),location.href);return fetch(c,{headers:G()}).then(i=>(s.assertResponseLogin(i),i.json()))}async function Fe(h,o,d){const s=$();await s.serverAvailable;const n=new URLSearchParams({startAt:h.getTime().toString(),endAt:o.getTime().toString()});d&&n.append("downloader",d);const c=new URL(W(s.endpoint,"api/chart/trend?"+n.toString()),location.href);return fetch(c,{headers:G()}).then(i=>(s.assertResponseLogin(i),i.json()))}async function Me(h,o,d){const s=$();await s.serverAvailable;const n=new URLSearchParams({startAt:h.getTime().toString(),endAt:o.getTime().toString()});d&&n.append("downloader",d);const c=new URL(W(s.endpoint,"api/chart/traffic?"+n.toString()),location.href);return fetch(c,{headers:G()}).then(i=>(s.assertResponseLogin(i),i.json()))}const de=U({__name:"ispPie",props:{downloader:{}},setup(h){const{t:o}=R();J([Y,re,be,Z]);const d=H(),s=A(),n=ee({field:"isp",enableThreshold:!0,bannedOnly:!0,range:[w().startOf("day").add(-14,"day").toDate(),new Date]}),c=F(()=>({text:o("page.charts.loading"),color:d.isDark?"rgb(60, 126, 255)":"rgb(22, 93, 255)",textColor:d.isDark?"rgba(255, 255, 255, 0.9)":"rgb(29, 33, 41)",maskColor:d.isDark?"rgba(0, 0, 0, 0.4)":"rgba(255, 255, 255, 0.4)"})),i=A({tooltip:{trigger:"item",appendToBody:!0,formatter:'<p style="word-wrap:break-all"><b>{b}</b></p>  {c} ({d}%)'},legend:{orient:"vertical",left:"right",type:"scroll",right:10,top:20,bottom:20,data:[],textStyle:{overflow:"truncate",width:100},tooltip:{show:!0}},backgroundColor:d.isDark?"rgba(0, 0, 0, 0.0)":void 0,series:[{name:"",type:"pie",radius:"55%",center:["50%","60%"],data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]});te(n,p=>{D(p.range[0],p.range[1],n.bannedOnly,y.downloader)});const y=h,{loading:k,run:D,refresh:x}=M(je,{defaultParams:[w().startOf("day").add(-7,"day").toDate(),new Date,n.bannedOnly,y.downloader],onSuccess:p=>{if(p.data){const r=p.data[n.field];let l;if(n.enableThreshold){const v=r.reduce((g,V)=>g+V.value,0)*.01;l=r.filter(g=>g.value>=v)}else l=r;i.value.legend.data=l.map(u=>u.key),i.value.series[0].data=l.map(u=>({name:u.key==="N/A"&&n.field==="province"?o("page.charts.data.province.na"):u.key,value:u.value})),i.value.series[0].name=o("page.charts.options.field."+n.field)}},onError:p=>{s.value=p}});return(p,r)=>{const l=B,u=j,v=ae,g=_e,V=ge,S=Q,T=oe,C=fe,P=he,I=ye,N=X,q=ne,L=z;return f(),b(L,{hoverable:"",title:t(o)("page.charts.title.geoip")+(n.bannedOnly?t(o)("page.charts.subtitle.bannedOnly"):"")},{extra:e(()=>[a(q,null,{content:e(()=>[a(N,{model:n},{default:e(()=>[a(S,{field:"field",label:t(o)("page.charts.options.field")},{default:e(()=>[a(V,{modelValue:n.field,"onUpdate:modelValue":r[1]||(r[1]=O=>n.field=O),"trigger-props":{autoFitPopupMinWidth:!0}},{default:e(()=>[a(g,{value:"isp"},{default:e(()=>[m(_(t(o)("page.charts.options.field.isp")),1)]),_:1}),a(g,{value:"province"},{default:e(()=>[m(_(t(o)("page.charts.options.field.province")),1)]),_:1}),a(g,{value:"city"},{default:e(()=>[m(_(t(o)("page.charts.options.field.city")),1)]),_:1}),a(g,{value:"region"},{default:e(()=>[m(_(t(o)("page.charts.options.field.region")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),a(S,{field:"range",label:t(o)("page.charts.options.days")},{default:e(()=>[a(T,{modelValue:n.range,"onUpdate:modelValue":r[2]||(r[2]=O=>n.range=O),"show-time":"","value-format":"Date",shortcuts:[{label:t(o)("page.charts.options.shortcut.7days"),value:()=>[t(w)().startOf("day").add(-7,"day").toDate(),new Date]},{label:t(o)("page.charts.options.shortcut.14days"),value:()=>[t(w)().startOf("day").add(-14,"day").toDate(),new Date]},{label:t(o)("page.charts.options.shortcut.30days"),value:()=>[t(w)().startOf("day").add(-30,"day").toDate(),new Date]}]},null,8,["modelValue","shortcuts"])]),_:1},8,["label"]),a(S,{field:"enableThreshold"},{default:e(()=>[a(I,null,{default:e(()=>[a(C,{modelValue:n.enableThreshold,"onUpdate:modelValue":r[3]||(r[3]=O=>n.enableThreshold=O)},null,8,["modelValue"]),a(P,null,{default:e(()=>[m(_(t(o)("page.charts.options.thresold")),1)]),_:1})]),_:1})]),_:1}),a(S,{field:"bannedOnly"},{default:e(()=>[a(I,null,{default:e(()=>[a(C,{modelValue:n.bannedOnly,"onUpdate:modelValue":r[4]||(r[4]=O=>n.bannedOnly=O)},null,8,["modelValue"]),a(P,null,{default:e(()=>[m(_(t(o)("page.charts.options.bannedOnly")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),default:e(()=>[a(v,null,{default:e(()=>[m(_(t(o)("page.charts.options.more")),1)]),_:1})]),_:1})]),default:e(()=>[s.value?(f(),b(u,{key:0,status:"500",title:t(o)("page.charts.error.title"),class:"chart chart-error"},{subtitle:e(()=>[m(_(s.value.message),1)]),extra:e(()=>[a(l,{type:"primary",onClick:r[0]||(r[0]=()=>{s.value=void 0,t(x)()})},{default:e(()=>[m(_(t(o)("page.charts.error.refresh")),1)]),_:1})]),_:1},8,["title"])):(f(),b(t(K),{key:1,class:"chart",option:i.value,loading:t(k),autoresize:"","loading-options":c.value,theme:t(d).isDark?"dark":"light","init-options":{renderer:"svg"}},null,8,["option","loading","loading-options","theme"]))]),_:1},8,["title"])}}}),pe=U({__name:"banTrends",props:{downloader:{}},setup(h){const{t:o}=R(),d=F(()=>({text:o("page.charts.loading"),color:s.isDark?"rgb(60, 126, 255)":"rgb(22, 93, 255)",textColor:s.isDark?"rgba(255, 255, 255, 0.9)":"rgb(29, 33, 41)",maskColor:s.isDark?"rgba(0, 0, 0, 0.4)":"rgba(255, 255, 255, 0.4)"})),s=H(),n=A();J([Y,se,le,Z]);const c=h,i=ee({range:[w().startOf("day").add(-7,"day").toDate(),new Date]}),y=A({xAxis:{type:"time",max:"dataMax"},yAxis:{type:"value"},tooltip:{trigger:"axis"},series:[{data:[],type:"line",name:o("page.charts.line.options.field")}]});te(i,p=>{D(p.range[0],p.range[1],c.downloader)});const{loading:k,run:D,refresh:x}=M(ze,{defaultParams:[w().startOf("day").add(-7,"day").toDate(),new Date,c.downloader],onSuccess:p=>{p.data&&(y.value.series[0].data=p.data.sort((r,l)=>r.key-l.key).map(r=>[new Date(r.key),r.value]))},onError:p=>{n.value=p}});return(p,r)=>{const l=ae,u=oe,v=Q,g=X,V=ne,S=B,T=j,C=z;return f(),b(C,{hoverable:"",title:t(o)("page.charts.title.line")},{extra:e(()=>[a(V,null,{content:e(()=>[a(g,{model:i},{default:e(()=>[a(v,{field:"range",label:t(o)("page.charts.options.days"),"label-col-flex":"100px"},{default:e(()=>[a(u,{modelValue:i.range,"onUpdate:modelValue":r[0]||(r[0]=P=>i.range=P),"show-time":"","value-format":"Date",shortcuts:[{label:t(o)("page.charts.options.shortcut.7days"),value:()=>[t(w)().startOf("day").add(-7,"day").toDate(),new Date]},{label:t(o)("page.charts.options.shortcut.14days"),value:()=>[t(w)().startOf("day").add(-14,"day").toDate(),new Date]},{label:t(o)("page.charts.options.shortcut.30days"),value:()=>[t(w)().startOf("day").add(-30,"day").toDate(),new Date]}]},null,8,["modelValue","shortcuts"])]),_:1},8,["label"])]),_:1},8,["model"])]),default:e(()=>[a(l,null,{default:e(()=>[m(_(t(o)("page.charts.options.more")),1)]),_:1})]),_:1})]),default:e(()=>[n.value?(f(),b(T,{key:0,status:"500",title:t(o)("page.charts.error.title"),class:"chart chart-error"},{subtitle:e(()=>[m(_(n.value.message),1)]),extra:e(()=>[a(S,{type:"primary",onClick:r[1]||(r[1]=()=>{n.value=void 0,t(x)()})},{default:e(()=>[m(_(t(o)("page.charts.error.refresh")),1)]),_:1})]),_:1},8,["title"])):(f(),b(t(K),{key:1,class:"chart",option:y.value,loading:t(k),"loading-options":d.value,theme:"ovilia-green",autoresize:"","init-options":{renderer:"svg"}},null,8,["option","loading","loading-options"]))]),_:1},8,["title"])}}}),ce=U({__name:"fieldPie",props:{downloader:{}},setup(h){const{t:o}=R();J([Y,re,be,Z]);const d=H(),s=ee({field:"peerId",enableThreshold:!0,mergeSameVersion:!1}),n=F(()=>({text:o("page.charts.loading"),color:d.isDark?"rgb(60, 126, 255)":"rgb(22, 93, 255)",textColor:d.isDark?"rgba(255, 255, 255, 0.9)":"rgb(29, 33, 41)",maskColor:d.isDark?"rgba(0, 0, 0, 0.4)":"rgba(255, 255, 255, 0.4)"})),c=A(),i=A({tooltip:{trigger:"item",appendToBody:!0,formatter:'<p style="word-wrap:break-all"><b>{b}</b></p>  {c} ({d}%)'},legend:{orient:"vertical",left:"right",type:"scroll",right:10,top:20,bottom:20,data:[],textStyle:{overflow:"truncate",width:100},tooltip:{show:!0}},backgroundColor:d.isDark?"rgba(0, 0, 0, 0.0)":void 0,series:[{name:o("page.charts.options.field."+s.field),type:"pie",radius:"55%",center:["50%","60%"],data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]});te(s,p=>{D(p.field,p.enableThreshold,y.downloader)});const y=h,{loading:k,run:D,refresh:x}=M(Be,{defaultParams:["peerId",!0,y.downloader],onSuccess:p=>{if(p.data){const r=p.data.map(l=>(l.data===""&&(l.data=o("page.charts.options.field.empty")),l));if(s.mergeSameVersion&&s.field==="peerId"){const l=new Map;r.forEach(u=>{let v=u.data;const g=v.match(/^([-]?[a-zA-z]+)[0-9]+.*/);g&&(g==null?void 0:g.length)>=2&&(v=g[1]+"*"),l.has(v)?l.set(v,l.get(v)+u.count):l.set(v,u.count)}),i.value.legend.data=[],i.value.series[0].data=[],Array.from(l).forEach(([u,v])=>{i.value.legend.data.push(u),i.value.series[0].data.push({name:u,value:v})})}else i.value.legend.data=r.map(l=>l.data),i.value.series[0].data=r.map(l=>({name:l.data,value:l.count}))}},onError:p=>{c.value=p}});return(p,r)=>{const l=B,u=j,v=ae,g=_e,V=ge,S=Q,T=fe,C=he,P=ye,I=X,N=ne,q=z;return f(),b(q,{hoverable:"",title:t(o)("page.charts.options.field."+s.field)},{extra:e(()=>[a(N,null,{content:e(()=>[a(I,{model:s,style:{width:"25vh"}},{default:e(()=>[a(S,{field:"field",label:t(o)("page.charts.options.field")},{default:e(()=>[a(V,{modelValue:s.field,"onUpdate:modelValue":r[1]||(r[1]=L=>s.field=L),"trigger-props":{autoFitPopupMinWidth:!0}},{default:e(()=>[a(g,{value:"peerId"},{default:e(()=>[m(_(t(o)("page.charts.options.field.peerId")),1)]),_:1}),a(g,{value:"torrentName"},{default:e(()=>[m(_(t(o)("page.charts.options.field.torrentName")),1)]),_:1}),a(g,{value:"module"},{default:e(()=>[m(_(t(o)("page.charts.options.field.module")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),a(S,{field:"enableThreshold"},{default:e(()=>[a(P,null,{default:e(()=>[a(T,{modelValue:s.enableThreshold,"onUpdate:modelValue":r[2]||(r[2]=L=>s.enableThreshold=L)},null,8,["modelValue"]),a(C,null,{default:e(()=>[m(_(t(o)("page.charts.options.thresold")),1)]),_:1})]),_:1})]),_:1}),s.field==="peerId"?(f(),b(S,{key:0,field:"mergeSameVersion"},{default:e(()=>[a(P,null,{default:e(()=>[a(T,{modelValue:s.mergeSameVersion,"onUpdate:modelValue":r[3]||(r[3]=L=>s.mergeSameVersion=L)},null,8,["modelValue"]),a(C,null,{default:e(()=>[m(_(t(o)("page.charts.options.mergeSame")),1)]),_:1})]),_:1})]),_:1})):Pe("",!0)]),_:1},8,["model"])]),default:e(()=>[a(v,null,{default:e(()=>[m(_(t(o)("page.charts.options.more")),1)]),_:1})]),_:1})]),default:e(()=>[c.value?(f(),b(u,{key:0,status:"500",title:t(o)("page.charts.error.title"),class:"chart chart-error"},{subtitle:e(()=>[m(_(c.value.message),1)]),extra:e(()=>[a(l,{type:"primary",onClick:r[0]||(r[0]=()=>{c.value=void 0,t(x)()})},{default:e(()=>[m(_(t(o)("page.charts.error.refresh")),1)]),_:1})]),_:1},8,["title"])):(f(),b(t(K),{key:1,class:"chart",option:i.value,loading:t(k),autoresize:"","loading-options":n.value,theme:t(d).isDark?"dark":"light","init-options":{renderer:"svg"}},null,8,["option","loading","loading-options","theme"]))]),_:1},8,["title"])}}}),Ne=U({__name:"plusWarpper",props:{title:{}},setup(h){const o=Ue(()=>ve(()=>import("./dummyChart-DB8XzMG7.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),{t:d}=R(),s=$(),n=F(()=>s.plusStatus),c=()=>{s.emitter.emit("open-plus-modal")};return(i,y)=>{var r;const k=$e,D=B,x=j,p=z;return(r=n.value)!=null&&r.activated?Le(i.$slots,"default",{key:0},void 0,!0):(f(),b(p,{key:1,hoverable:"",title:i.title},{default:e(()=>[a(x,{class:"overlay",status:"warning",title:t(d)("page.charts.locked")},{icon:e(()=>[a(k)]),subtitle:e(()=>[m(_(t(d)("page.charts.locked.tips")),1)]),extra:e(()=>[a(D,{type:"primary",onClick:c},{default:e(()=>[m(_(t(d)("page.charts.locked.active")),1)]),_:1})]),_:1},8,["title"]),a(t(o))]),_:1},8,["title"]))}}}),E=we(Ne,[["__scopeId","data-v-0b577f3a"]]),ue=U({__name:"traffic",props:{downloader:{}},setup(h){J([Y,re,Ce,le,se,Z]);const o=ee({range:[w().startOf("day").add(-14,"day").toDate(),new Date]}),d=H(),s=F(()=>({text:n("page.charts.loading"),color:d.isDark?"rgb(60, 126, 255)":"rgb(22, 93, 255)",textColor:d.isDark?"rgba(255, 255, 255, 0.9)":"rgb(29, 33, 41)",maskColor:d.isDark?"rgba(0, 0, 0, 0.4)":"rgba(255, 255, 255, 0.4)"})),{t:n,d:c}=R(),i=A(),y=A({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(l){return c(l[0].data[0],"short")+":<br/>"+l.map(u=>`${u.marker} ${u.seriesName}: ${ie(u.data[1])}`).join("<br>")}},legend:{data:[n("page.charts.traffic.options.download"),n("page.charts.traffic.options.upload")]},xAxis:{type:"time",max:"dataMax",min:"dataMin",minInterval:3600*24*1e3},yAxis:{type:"value",axisLabel:{formatter:l=>ie(l)}},series:[{name:n("page.charts.traffic.options.download"),type:"line",emphasis:{focus:"series"},data:[]},{name:n("page.charts.traffic.options.upload"),type:"line",emphasis:{focus:"series"},data:[]}]});te(o,l=>{x(l.range[0],l.range[1],k.downloader)});const k=h,{loading:D,run:x,refresh:p,data:r}=M(Me,{defaultParams:[w().startOf("day").add(-7,"day").toDate(),new Date,k.downloader],onSuccess:l=>{l.data&&(y.value.series[0].data=l.data.map(u=>[new Date(u.timestamp),u.dataOverallDownloaded]),y.value.series[1].data=l.data.map(u=>[new Date(u.timestamp),u.dataOverallUploaded]))},onError:l=>{i.value=l}});return(l,u)=>{const v=ae,g=oe,V=Q,S=X,T=ke,C=De,P=ne,I=B,N=j,q=Se,L=z;return f(),b(L,{hoverable:"",title:t(n)("page.charts.title.traffic")},{extra:e(()=>[a(P,null,{content:e(()=>[a(S,{model:o},{default:e(()=>[a(V,{field:"range",label:t(n)("page.charts.options.days"),"label-col-flex":"100px"},{default:e(()=>[a(g,{modelValue:o.range,"onUpdate:modelValue":u[0]||(u[0]=O=>o.range=O),"show-time":"","value-format":"Date",shortcuts:[{label:t(n)("page.charts.options.shortcut.7days"),value:()=>[t(w)().startOf("day").add(-7,"day").toDate(),new Date]},{label:t(n)("page.charts.options.shortcut.14days"),value:()=>[t(w)().startOf("day").add(-14,"day").toDate(),new Date]},{label:t(n)("page.charts.options.shortcut.30days"),value:()=>[t(w)().startOf("day").add(-30,"day").toDate(),new Date]}]},null,8,["modelValue","shortcuts"])]),_:1},8,["label"])]),_:1},8,["model"])]),default:e(()=>[a(v,null,{default:e(()=>[m(_(t(n)("page.charts.options.more")),1)]),_:1}),a(C,{content:t(n)("page.charts.tooltip.traffic")},{default:e(()=>[a(T)]),_:1},8,["content"])]),_:1})]),default:e(()=>{var O;return[i.value?(f(),b(N,{key:0,status:"500",title:t(n)("page.charts.error.title"),class:"chart chart-error"},{subtitle:e(()=>[m(_(i.value.message),1)]),extra:e(()=>[a(I,{type:"primary",onClick:u[1]||(u[1]=()=>{i.value=void 0,t(p)()})},{default:e(()=>[m(_(t(n)("page.charts.error.refresh")),1)]),_:1})]),_:1},8,["title"])):!((O=t(r))!=null&&O.data)&&!t(D)?(f(),b(q,{key:1,class:"chart",style:{"align-items":"center",display:"flex","justify-content":"center","flex-direction":"column"}})):(f(),b(t(K),{key:2,class:"chart",option:y.value,loading:t(D),"loading-options":s.value,theme:"ovilia-green",autoresize:"","init-options":{renderer:"svg"}},null,8,["option","loading","loading-options"]))]}),_:1},8,["title"])}}}),me=U({__name:"trends",props:{downloader:{}},setup(h){J([le,Y,se,Z]);const{t:o}=R(),d=ee({range:[w().startOf("day").add(-14,"day").toDate(),new Date]}),s=A(),n=H(),c=F(()=>({text:o("page.charts.loading"),color:n.isDark?"rgb(60, 126, 255)":"rgb(22, 93, 255)",textColor:n.isDark?"rgba(255, 255, 255, 0.9)":"rgb(29, 33, 41)",maskColor:n.isDark?"rgba(0, 0, 0, 0.4)":"rgba(255, 255, 255, 0.4)"})),i=A({xAxis:{type:"time",max:"dataMax"},yAxis:{type:"value"},tooltip:{trigger:"axis"},series:[{data:[],type:"line",color:"#A5A051",areaStyle:{color:"#A5A051"},name:o("page.charts.trends.options.peers")},{data:[],type:"line",color:"#DB4D6D",areaStyle:{color:"#DB4D6D"},name:o("page.charts.trends.options.bans")}]});te(d,p=>{D(p.range[0],p.range[1],y.downloader)});const y=h,{loading:k,run:D,refresh:x}=M(Fe,{defaultParams:[w().startOf("day").add(-7,"day").toDate(),new Date,y.downloader],onSuccess:p=>{p.data&&(i.value.series[0].data=p.data.connectedPeersTrend.sort((r,l)=>r.key-l.key).map(r=>[new Date(r.key),r.value]),i.value.series[1].data=p.data.bannedPeersTrend.sort((r,l)=>r.key-l.key).map(r=>[new Date(r.key),r.value]))},onError:p=>{s.value=p}});return(p,r)=>{const l=oe,u=Q,v=X,g=B,V=j,S=z;return f(),b(S,{hoverable:"",title:t(o)("page.charts.title.trends")},{extra:e(()=>[a(v,{model:d,"auto-label-width":""},{default:e(()=>[a(u,{field:"range",label:t(o)("page.charts.options.days"),style:{"margin-bottom":"0"}},{default:e(()=>[a(l,{modelValue:d.range,"onUpdate:modelValue":r[0]||(r[0]=T=>d.range=T),"value-format":"Date",style:{width:"275px"},shortcuts:[{label:t(o)("page.charts.options.shortcut.7days"),value:()=>[t(w)().startOf("day").add(-7,"day").toDate(),new Date]},{label:t(o)("page.charts.options.shortcut.14days"),value:()=>[t(w)().startOf("day").add(-14,"day").toDate(),new Date]},{label:t(o)("page.charts.options.shortcut.30days"),value:()=>[t(w)().startOf("day").add(-30,"day").toDate(),new Date]}]},null,8,["modelValue","shortcuts"])]),_:1},8,["label"])]),_:1},8,["model"])]),default:e(()=>[s.value?(f(),b(V,{key:0,status:"500",title:t(o)("page.charts.error.title"),class:"chart chart-error"},{subtitle:e(()=>[m(_(s.value.message),1)]),extra:e(()=>[a(g,{type:"primary",onClick:r[1]||(r[1]=()=>{s.value=void 0,t(x)()})},{default:e(()=>[m(_(t(o)("page.charts.error.refresh")),1)]),_:1})]),_:1},8,["title"])):(f(),b(t(K),{key:1,class:"chart",option:i.value,loading:t(k),"loading-options":c.value,theme:"ovilia-green",autoresize:"","init-options":{renderer:"svg"}},null,8,["option","loading","loading-options"]))]),_:1},8,["title"])}}}),Xe=U({__name:"index",setup(h){const{t:o}=R(),{data:d}=M(xe);return(s,n)=>{const c=Ve,i=Te,y=Ae,k=Oe;return f(),b(k,{"default-active-key":0,"lazy-load":"",animation:"",type:"rounded"},{default:e(()=>{var D;return[(f(),b(y,{key:0,title:t(o)("page.charts.all")},{default:e(()=>[a(i,{justify:"center",align:"stretch",wrap:!0,gutter:[{xs:12,sm:12,md:12,lg:12,xl:24},{xs:12,sm:12,md:12,lg:12,xl:24}]},{default:e(()=>[a(c,{xl:12,lg:24,md:24,sm:24,xs:24},{default:e(()=>[a(pe)]),_:1}),a(c,{xl:12,lg:24,md:24,sm:24,xs:24},{default:e(()=>[a(ce)]),_:1}),a(c,{xl:12,lg:24,md:24,sm:24,xs:24},{default:e(()=>[a(E,{title:t(o)("page.charts.title.geoip")},{default:e(()=>[a(de)]),_:1},8,["title"])]),_:1}),a(c,{xl:12,lg:24,md:24,sm:24,xs:24},{default:e(()=>[a(E,{title:t(o)("page.charts.title.traffic")},{default:e(()=>[a(ue)]),_:1},8,["title"])]),_:1}),a(c,{xl:24,lg:24,md:24,sm:24,xs:24},{default:e(()=>[a(E,{title:t(o)("page.charts.title.trends")},{default:e(()=>[a(me)]),_:1},8,["title"])]),_:1})]),_:1})]),_:1},8,["title"])),(f(!0),Re(Ee,null,Ie(((D=t(d))==null?void 0:D.data)??[],(x,p)=>(f(),b(y,{key:p+1,title:x.name},{default:e(()=>[a(i,{justify:"center",align:"stretch",wrap:!0,gutter:[{xs:12,sm:12,md:12,lg:12,xl:24},{xs:12,sm:12,md:12,lg:12,xl:24}]},{default:e(()=>[a(c,{xl:12,lg:24,md:24,sm:24,xs:24},{default:e(()=>[a(pe,{downloader:x.name},null,8,["downloader"])]),_:2},1024),a(c,{xl:12,lg:24,md:24,sm:24,xs:24},{default:e(()=>[a(ce,{downloader:x.name},null,8,["downloader"])]),_:2},1024),a(c,{xl:12,lg:24,md:24,sm:24,xs:24},{default:e(()=>[a(E,{title:t(o)("page.charts.title.geoip")},{default:e(()=>[a(de,{downloader:x.name},null,8,["downloader"])]),_:2},1032,["title"])]),_:2},1024),a(c,{xl:12,lg:24,md:24,sm:24,xs:24},{default:e(()=>[a(E,{title:t(o)("page.charts.title.traffic")},{default:e(()=>[a(ue,{downloader:x.name},null,8,["downloader"])]),_:2},1032,["title"])]),_:2},1024),a(c,{xl:24,lg:24,md:24,sm:24,xs:24},{default:e(()=>[a(E,{title:t(o)("page.charts.title.trends")},{default:e(()=>[a(me,{downloader:x.name},null,8,["downloader"])]),_:2},1032,["title"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["title"]))),128))]}),_:1})}}});export{Xe as default};
