const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./qbittorrent-taRs4t0f.js","./index-CePAENc9.js","./libs-Bgy1OBX3.js","./arcoDesign-wjYTUtmB.js","./index-B4boZaW5.css","./transmission-V4qM70kl.js","./biglybt-CI8uwnuA.js","./deluge-BMpGtpQ8.js"])))=>i.map(i=>d[i]);
import{C as n,_ as p}from"./index-CePAENc9.js";import{T as A}from"./init-D85q-2mr.js";import{f as N,a6 as O,ao as L,r as S,q as U,j as g,s as y,t as e,y as o,v as r,x as m,a2 as t,E as H,p as j,O as G,u as X,a8 as _}from"./libs-Bgy1OBX3.js";import{M as v,b as Y,Y as z,X as J,R as K,T as Q,n as W,F as Z,o as $,B as ee,p as oe,S as ae}from"./arcoDesign-wjYTUtmB.js";const te={href:"https://github.com/PBH-BTN/PBH-Adapter-BiglyBT"},se=N({__name:"addDownloader",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(b){const w=_(()=>p(()=>import("./qbittorrent-taRs4t0f.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),T=_(()=>p(()=>import("./transmission-V4qM70kl.js"),__vite__mapDeps([5,1,2,3,4]),import.meta.url)),C=_(()=>p(()=>import("./biglybt-CI8uwnuA.js"),__vite__mapDeps([6,1,2,3,4]),import.meta.url)),B=_(()=>p(()=>import("./deluge-BMpGtpQ8.js"),__vite__mapDeps([7,1,2,3,4]),import.meta.url)),V={[n.qBittorrent]:w,[n.Transmission]:T,[n.BiglyBT]:C,[n.Deluge]:B},{t:l}=O(),a=L(b,"modelValue"),c=S(!1),h=async()=>{c.value=!0;try{const d=await A({name:a.value.downloaderConfig.name,config:a.value.downloaderConfig.config});if(!d.success)throw new Error(d.message)}catch(d){return d instanceof Error&&v.error(d.message),!1}finally{c.value=!1}v.success(l("page.oobe.addDownloader.test.success")),a.value.valid=!0};return(d,s)=>{const D=Y,E=z,M=J,u=K,q=Q,P=W,R=U("i18n-t"),f=Z,x=$,F=ee,I=oe,k=ae;return g(),y(k,{direction:"vertical",style:{width:"70%"}},{default:e(()=>[o(M,{style:{"text-align":"left"}},{default:e(()=>[o(D,null,{default:e(()=>[r(m(t(l)("page.oobe.addDownloader.title")),1)]),_:1}),o(E,null,{default:e(()=>[r(m(t(l)("page.oobe.addDownloader.description")),1)]),_:1})]),_:1}),o(I,{model:a.value.downloaderConfig,"auto-label-width":""},{default:e(()=>[o(f,{field:"config.type",label:t(l)("page.dashboard.editModal.label.type"),required:""},H({default:e(()=>[o(P,{modelValue:a.value.downloaderConfig.config.type,"onUpdate:modelValue":s[0]||(s[0]=i=>a.value.downloaderConfig.config.type=i),type:"button"},{default:e(()=>[o(u,{value:t(n).qBittorrent},{default:e(()=>[r("qBittorrent")]),_:1},8,["value"]),o(q,{content:t(l)("page.dashboard.editModal.transmission.discourage")},{default:e(()=>[o(u,{value:t(n).Transmission,disabled:""},{default:e(()=>[r("Transmission")]),_:1},8,["value"])]),_:1},8,["content"]),o(u,{value:t(n).BiglyBT},{default:e(()=>[r("BiglyBT")]),_:1},8,["value"]),o(u,{value:t(n).Deluge},{default:e(()=>[r("Deluge")]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:2},[a.value.downloaderConfig.config.type===t(n).BiglyBT?{name:"extra",fn:e(()=>[o(R,{keypath:"page.dashboard.editModal.biglybt"},{url:e(()=>[j("a",te,m(t(l)("page.dashboard.editModal.biglybt.url")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"]),o(f,{field:"name",label:t(l)("page.dashboard.editModal.label.name"),required:""},{default:e(()=>[o(x,{modelValue:a.value.downloaderConfig.name,"onUpdate:modelValue":s[1]||(s[1]=i=>a.value.downloaderConfig.name=i),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["label"]),(g(),y(G(V[a.value.downloaderConfig.config.type]),{modelValue:a.value.downloaderConfig.config,"onUpdate:modelValue":s[2]||(s[2]=i=>a.value.downloaderConfig.config=i)},null,8,["modelValue"])),a.value.downloaderConfig.config.type?(g(),y(f,{key:0},{default:e(()=>[o(F,{loading:c.value,onClick:h},{default:e(()=>[r(m(t(l)("page.oobe.addDownloader.test")),1)]),_:1},8,["loading"])]),_:1})):X("",!0)]),_:1},8,["model"])]),_:1})}}});export{se as default};
