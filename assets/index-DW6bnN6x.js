const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./mailForm-T3h3XoCo.js","./index-D9wPOLZ-.js","./libs-Dn3n__lQ.js","./arcoDesign-MpQA7HAz.js","./index-DxW5NURa.css","./index-wWE-WYF9.js","./index-Mb2FwH0E.css","./time-DUUrr2Vn.js","./index-DA7yH-fs.css","./index-BFzQHSKZ.css","./index-Gq-3qsyj.css","./telegramForm-Ci7GeIEJ.js","./pushplusForm-DQTXX802.js","./serverchanForm-CQvMfWyg.js","./logViewer-BMEK-Ie2.js","./logViewer-DpT4SfsT.css"])))=>i.map(i=>d[i]);
import{u as me,a as ke,g as xe,m as Ce,_ as Ie,j as Yt,M as $t,e as Ft,o as Wt,f as Ue,q as $e,c as Xt,r as Jt,s as It,t as _t,v as Kt}from"./index-D9wPOLZ-.js";import{f as D,c as O,j as k,k as ne,n as Pt,m as et,p as G,a6 as q,al as J,s as P,t as a,y as e,v as _,x as g,a2 as l,E as ae,u as z,a1 as De,q as Te,P as Be,F as ve,r as K,a9 as Me,O as St,a8 as Ve,a as Ct,l as Qt,R as Mt,ak as Zt,ae as ea}from"./libs-Dn3n__lQ.js";import{G as ta,S as aa,a as la,b as na,C as oa,c as ia,d as sa,e as ra}from"./index-wWE-WYF9.js";/* empty css              */import{_ as Ut,g as Bt,i as Tt,J as He,$ as Xe,ap as ua,w as se,L as Pe,ay as tt,v as Q,G as Y,q as we,aD as Rt,T as de,S as j,a8 as ie,aE as at,aF as da,aG as lt,M as le,B as fe,Y as pa,H as nt,aH as ma,o as fa,c as Ge,p as Ye,P as _a,C as Lt,aI as ca,x as Et,Q as ga,R as ba,al as ot,m as At,a5 as Dt,b as it,a4 as va,k as Re,n as Le,a as Oe,D as ya,h as ha,a0 as Va,au as ka,z as xa,K as wa,F as $a,aw as Ia,O as Pa,N as st,at as Sa,aJ as Ca,ar as Ma,as as Ua,aK as Ba,U as Ta,V as Ra}from"./arcoDesign-MpQA7HAz.js";/* empty css              *//* empty css              */import{f as oe,a as ct}from"./time-DUUrr2Vn.js";const La=D({name:"IconSave",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:o=>["butt","round","square"].includes(o)},strokeLinejoin:{type:String,default:"miter",validator:o=>["arcs","bevel","miter","miter-clip","round"].includes(o)},rotate:Number,spin:Boolean},emits:{click:o=>!0},setup(o,{emit:n}){const t=Bt("icon"),i=O(()=>[t,`${t}-save`,{[`${t}-spin`]:o.spin}]),m=O(()=>{const s={};return o.size&&(s.fontSize=Tt(o.size)?`${o.size}px`:o.size),o.rotate&&(s.transform=`rotate(${o.rotate}deg)`),s});return{cls:i,innerStyle:m,onClick:s=>{n("click",s)}}}}),Ea=["stroke-width","stroke-linecap","stroke-linejoin"],Aa=G("path",{d:"M21 13v9m18 20H9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h22.55a1 1 0 0 1 .748.336l7.45 8.38a1 1 0 0 1 .252.664V41a1 1 0 0 1-1 1ZM14 6h14v15a1 1 0 0 1-1 1H15a1 1 0 0 1-1-1V6Z"},null,-1),Da=[Aa];function Oa(o,n,t,i,m,r){return k(),ne("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Pt(o.cls),style:et(o.innerStyle),"stroke-width":o.strokeWidth,"stroke-linecap":o.strokeLinecap,"stroke-linejoin":o.strokeLinejoin,onClick:n[0]||(n[0]=(...s)=>o.onClick&&o.onClick(...s))},Da,14,Ea)}var Je=Ut(La,[["render",Oa]]);const Ot=Object.assign(Je,{install:(o,n)=>{var t;const i=(t=n==null?void 0:n.iconPrefix)!=null?t:"";o.component(i+Je.name,Je)}}),qa=D({name:"IconExperiment",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:o=>["butt","round","square"].includes(o)},strokeLinejoin:{type:String,default:"miter",validator:o=>["arcs","bevel","miter","miter-clip","round"].includes(o)},rotate:Number,spin:Boolean},emits:{click:o=>!0},setup(o,{emit:n}){const t=Bt("icon"),i=O(()=>[t,`${t}-experiment`,{[`${t}-spin`]:o.spin}]),m=O(()=>{const s={};return o.size&&(s.fontSize=Tt(o.size)?`${o.size}px`:o.size),o.rotate&&(s.transform=`rotate(${o.rotate}deg)`),s});return{cls:i,innerStyle:m,onClick:s=>{n("click",s)}}}}),ja=["stroke-width","stroke-linecap","stroke-linejoin"],za=G("path",{d:"M10.5 7h6m0 0v10.5l-5.25 14M16.5 7h15m0 0h6m-6 0v10.5L37 32.167M11.25 31.5l-2.344 6.853A2 2 0 0 0 10.8 41h26.758a2 2 0 0 0 1.86-2.737L37 32.167M11.25 31.5c1.916 1.833 7.05 4.4 12.25 0s11.166-1.389 13.5.667M26 22.5v.01"},null,-1),Na=[za];function Ha(o,n,t,i,m,r){return k(),ne("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Pt(o.cls),style:et(o.innerStyle),"stroke-width":o.strokeWidth,"stroke-linecap":o.strokeLinecap,"stroke-linejoin":o.strokeLinejoin,onClick:n[0]||(n[0]=(...s)=>o.onClick&&o.onClick(...s))},Na,14,ja)}var Ke=Ut(qa,[["render",Ha]]);const Ga=Object.assign(Ke,{install:(o,n)=>{var t;const i=(t=n==null?void 0:n.iconPrefix)!=null?t:"";o.component(i+Ke.name,Ke)}});var ge=(o=>(o[o.NO_PROXY=0]="NO_PROXY",o[o.SYSTEM_PROXY=1]="SYSTEM_PROXY",o[o.HTTP_PROXY=2]="HTTP_PROXY",o[o.SOCKS_PROXY=3]="SOCKS_PROXY",o))(ge||{});const Ya={key:0},Fa=D({__name:"btn",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=q(),t=J(o,"modelValue"),i=async m=>m?new Promise(r=>He.warning({title:n("page.settings.tab.config.btn.enableSubmit.modal.title"),content:()=>De(ua,{},[De(Xe,null,n("page.settings.tab.config.btn.enableSubmit.modal.content")),De(Xe,null,n("page.settings.tab.config.btn.enableSubmit.modal.content2")),De(Xe,null,n("page.settings.tab.config.btn.enableSubmit.modal.content3"))]),closable:!1,hideCancel:!1,onOk:()=>r(!0),onCancel:()=>r(!1)})):!0;return(m,r)=>{const s=se,d=Pe,u=tt,f=Q,p=Y,M=we,b=Rt,c=de,w=j;return k(),P(w,{direction:"vertical",fill:""},{default:a(()=>[e(s,{heading:3},{default:a(()=>r[6]||(r[6]=[_(" BTN ")])),_:1}),e(u,null,{default:a(()=>[_(g(l(n)("page.settings.tab.config.btn.doc"))+" ",1),e(d,{target:"_blank",href:"https://docs.pbh-btn.com/docs/btn/intro/"},{default:a(()=>r[7]||(r[7]=[_(" https://docs.pbh-btn.com/docs/btn/intro/ ")])),_:1})]),_:1}),e(p,{label:l(n)("page.settings.tab.config.btn.enable"),field:"btn.enabled"},{default:a(()=>[e(f,{modelValue:t.value.enabled,"onUpdate:modelValue":r[0]||(r[0]=I=>t.value.enabled=I)},null,8,["modelValue"])]),_:1},8,["label"]),t.value.enabled?(k(),ne("div",Ya,[e(p,{label:l(n)("page.settings.tab.config.btn.enableSubmit"),field:"btn.submit"},{default:a(()=>[e(f,{modelValue:t.value.submit,"onUpdate:modelValue":r[1]||(r[1]=I=>t.value.submit=I),"before-change":i},null,8,["modelValue"])]),_:1},8,["label"]),e(p,{label:"URL",field:"btn.config_url","validate-trigger":"focus",rules:[{type:"url",required:!0}]},{default:a(()=>[e(M,{modelValue:t.value.config_url,"onUpdate:modelValue":r[2]||(r[2]=I=>t.value.config_url=I),style:{width:"400px"}},null,8,["modelValue"])]),_:1}),e(p,{label:"App ID",field:"btn.app_id"},{default:a(()=>[e(M,{modelValue:t.value.app_id,"onUpdate:modelValue":r[3]||(r[3]=I=>t.value.app_id=I),style:{width:"400px"}},null,8,["modelValue"])]),_:1}),e(p,{label:"App Secret",field:"btn.app_secret"},{default:a(()=>[e(b,{modelValue:t.value.app_secret,"onUpdate:modelValue":r[4]||(r[4]=I=>t.value.app_secret=I),style:{width:"400px"}},null,8,["modelValue"])]),_:1}),e(p,{label:l(n)("page.settings.tab.config.btn.allowScript"),tooltip:l(n)("page.settings.tab.config.btn.allowScript.tips"),field:"model.enabled"},ae({default:a(()=>[e(f,{modelValue:t.value.allow_script_execute,"onUpdate:modelValue":r[5]||(r[5]=I=>t.value.allow_script_execute=I)},null,8,["modelValue"])]),_:2},[t.value.allow_script_execute?{name:"extra",fn:a(()=>[e(c,{type:"danger"},{default:a(()=>[_(g(l(n)("page.settings.tab.config.btn.allowScript.warning")),1)]),_:1})]),key:"0"}:void 0]),1032,["label","tooltip"])])):z("",!0)]),_:1})}}}),Wa=D({__name:"ipDatabase",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=q(),t=J(o,"modelValue");return(i,m)=>{const r=se,s=Q,d=Y,u=we,f=j;return k(),P(f,{direction:"vertical",fill:""},{default:a(()=>[e(r,{heading:3},{default:a(()=>[_(g(l(n)("page.settings.tab.config.ipDatabase.title")),1)]),_:1}),e(d,{label:l(n)("page.settings.tab.config.ipDatabase.autoUpdate"),field:"ip_database.auto_update"},{default:a(()=>[e(s,{modelValue:t.value.auto_update,"onUpdate:modelValue":m[0]||(m[0]=p=>t.value.auto_update=p)},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{label:l(n)("page.settings.tab.config.ipDatabase.city"),field:"ip_database.database_city"},{default:a(()=>[e(u,{modelValue:t.value.database_city,"onUpdate:modelValue":m[1]||(m[1]=p=>t.value.database_city=p),disabled:"",style:{width:"150px"}},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{label:l(n)("page.settings.tab.config.ipDatabase.asn"),field:"ip_database.database_asn"},{default:a(()=>[e(u,{modelValue:t.value.database_asn,"onUpdate:modelValue":m[2]||(m[2]=p=>t.value.database_asn=p),disabled:"",style:{width:"150px"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})}}}),Xa=D({__name:"logger",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=q(),t=J(o,"modelValue");return(i,m)=>{const r=se,s=Q,d=Y,u=j;return k(),P(u,{direction:"vertical",fill:""},{default:a(()=>[e(r,{heading:3},{default:a(()=>[_(g(l(n)("page.settings.tab.config.logger.title")),1)]),_:1}),e(d,{label:l(n)("page.settings.tab.config.logger.hide_finish_log"),field:"server.hide_finish_log",tooltip:l(n)("page.settings.tab.config.logger.hide_finish_log.tips")},{default:a(()=>[e(s,{modelValue:t.value.hide_finish_log,"onUpdate:modelValue":m[0]||(m[0]=f=>t.value.hide_finish_log=f)},null,8,["modelValue"])]),_:1},8,["label","tooltip"])]),_:1})}}}),Ja=D({__name:"lookup",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=q(),t=J(o,"modelValue");return(i,m)=>{const r=se,s=Q,d=Y,u=j;return k(),P(u,{direction:"vertical",fill:""},{default:a(()=>[e(r,{heading:3},{default:a(()=>[_(g(l(n)("page.settings.tab.config.lookup.title")),1)]),_:1}),e(d,{label:l(n)("page.settings.tab.config.lookup.dnsReverseLookup"),field:"server.dns_reverse_lookup",tooltip:l(n)("page.settings.tab.config.lookup.dnsReverseLookup.tips")},{default:a(()=>[e(s,{modelValue:t.value.dns_reverse_lookup,"onUpdate:modelValue":m[0]||(m[0]=f=>t.value.dns_reverse_lookup=f)},null,8,["modelValue"])]),_:1},8,["label","tooltip"])]),_:1})}}}),Ka=D({__name:"performance",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=q(),t=J(o,"modelValue");return(i,m)=>{const r=se,s=Q,d=Pe,u=Te("i18n-t"),f=Y,p=j;return k(),P(p,{direction:"vertical",fill:""},{default:a(()=>[e(r,{heading:3},{default:a(()=>[_(g(l(n)("page.settings.tab.config.performance.title")),1)]),_:1}),e(f,{label:l(n)("page.settings.tab.config.performance.useEcoQOS"),field:"performance.windows_ecoqos_api"},{extra:a(()=>[e(u,{keypath:"page.settings.tab.config.performance.useEcoQOS.tips"},{link:a(()=>[e(d,{target:"_blank",href:"https://devblogs.microsoft.com/performance-diagnostics/introducing-ecoqos/"},{default:a(()=>m[1]||(m[1]=[_(" EcoQoS API ")])),_:1})]),_:1})]),default:a(()=>[e(s,{modelValue:t.value.windows_ecoqos_api,"onUpdate:modelValue":m[0]||(m[0]=M=>t.value.windows_ecoqos_api=M)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})}}}),Qa=D({__name:"persist",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=q(),t=J(o,"modelValue");return(i,m)=>{const r=se,s=Q,d=Y,u=ie,f=j;return k(),P(f,{direction:"vertical",fill:""},{default:a(()=>[e(r,{heading:3},{default:a(()=>[_(g(l(n)("page.settings.tab.config.persist.title")),1)]),_:1}),e(d,{label:l(n)("page.settings.tab.config.persist.banlist"),field:"persist.banlist"},{default:a(()=>[e(s,{modelValue:t.value.banlist,"onUpdate:modelValue":m[0]||(m[0]=p=>t.value.banlist=p)},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{label:l(n)("page.settings.tab.config.persist.ban_logs_keep_days"),field:"persist.ban_logs_keep_days"},{default:a(()=>[e(u,{modelValue:t.value.ban_logs_keep_days,"onUpdate:modelValue":m[1]||(m[1]=p=>t.value.ban_logs_keep_days=p),style:{width:"100px"},precision:0},{suffix:a(()=>[_(g(l(n)("page.settings.tab.config.unit.day")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1})}}}),Za=D({__name:"proxy",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const n=[ge.NO_PROXY,ge.SYSTEM_PROXY,ge.HTTP_PROXY,ge.SOCKS_PROXY],{t}=q(),i=J(o,"modelValue");return(m,r)=>{const s=se,d=lt,u=at,f=Y,p=we,M=ie,b=da,c=j;return k(),P(c,{direction:"vertical",fill:""},{default:a(()=>[e(s,{heading:3},{default:a(()=>[_(g(l(t)("page.settings.tab.config.proxy")),1)]),_:1}),e(f,{label:l(t)("page.settings.tab.config.proxy.type"),field:"proxy.setting"},{default:a(()=>[e(u,{modelValue:i.value.setting,"onUpdate:modelValue":r[0]||(r[0]=w=>i.value.setting=w),type:"button"},{default:a(()=>[(k(),ne(ve,null,Be(n,w=>e(d,{key:w,value:w},{default:a(()=>[_(g(l(t)(`page.settings.tab.config.proxy.type.${w}`)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(f,{label:l(t)("page.settings.tab.config.proxy.host"),field:"proxy.host","validate-trigger":"focus",disabled:i.value.setting<l(ge).HTTP_PROXY},{default:a(()=>[e(p,{modelValue:i.value.host,"onUpdate:modelValue":r[1]||(r[1]=w=>i.value.host=w),style:{width:"150px"}},null,8,["modelValue"])]),_:1},8,["label","disabled"]),e(f,{label:l(t)("page.settings.tab.config.proxy.port"),field:"proxy.port","validate-trigger":"focus",disabled:i.value.setting<l(ge).HTTP_PROXY,rules:[{max:65535,message:l(t)("page.settings.tab.config.server.port.error")},{min:1,message:l(t)("page.settings.tab.config.server.port.error")}]},{default:a(()=>[e(M,{modelValue:i.value.port,"onUpdate:modelValue":r[2]||(r[2]=w=>i.value.port=w),max:65535,min:1,style:{width:"100px"}},null,8,["modelValue"])]),_:1},8,["label","disabled","rules"]),e(f,{label:l(t)("page.settings.tab.config.proxy.non_proxy_hosts"),field:"proxy.non_proxy_hosts",disabled:i.value.setting===l(ge).NO_PROXY},{default:a(()=>[e(b,{modelValue:i.value.non_proxy_hosts,"onUpdate:modelValue":r[3]||(r[3]=w=>i.value.non_proxy_hosts=w),placeholder:l(t)("page.settings.tab.config.proxy.non_proxy_hosts.tips",{separator:"|"})},null,8,["modelValue","placeholder"])]),_:1},8,["label","disabled"])]),_:1})}}});async function el(){const o=me();await o.serverAvailable;const n=new URL(ke(o.endpoint,"api/push"),location.href);return fetch(n,{headers:xe()}).then(t=>(o.assertResponseLogin(t),t.json()))}async function tl(o){const n=me();await n.serverAvailable;const t=new URL(ke(n.endpoint,"api/push"),location.href);return fetch(t,{method:"PUT",headers:xe(),body:JSON.stringify(o)}).then(async i=>(n.assertResponseLogin(i),i.json()))}async function al(o,n){const t=me();await t.serverAvailable;const i=new URL(ke(t.endpoint,`api/push/${encodeURIComponent(o)}`),location.href);return fetch(i,{method:"PATCH",headers:xe(),body:JSON.stringify(n)}).then(async m=>(t.assertResponseLogin(m),m.json()))}async function ll(o){const n=me();await n.serverAvailable;const t=new URL(ke(n.endpoint,"api/push/test"),location.href);return fetch(t,{method:"POST",headers:xe(),body:JSON.stringify(o)}).then(async i=>(n.assertResponseLogin(i),i.json()))}async function nl(o){const n=me();await n.serverAvailable;const t=new URL(ke(n.endpoint,`api/push/${encodeURIComponent(o)}`),location.href);return fetch(t,{method:"DELETE",headers:xe()}).then(async i=>(n.assertResponseLogin(i),i.json()))}var W=(o=>(o.Email="smtp",o.PushPlus="pushplus",o.ServerChan="serverchan",o.Telegram="telegram",o))(W||{}),ol=(o=>(o.None="NONE",o.StartTLS="STARTTLS",o.EnforceStartTLS="ENFORCE_STARTTLS",o.SSLTLS="SSLTLS",o))(ol||{});const il=D({__name:"editPush",emits:["changed"],setup(o,{expose:n,emit:t}){const{t:i}=q(),m=K(!1),r=K(!1),s=K(!1),d=K(!1),u=K({config:{}}),f=K("");n({showModal:(y,x)=>{r.value=y,!y&&x?(u.value.name=x.name,f.value=x.name,u.value.type=x.type,u.value.config=x.config):u.value={config:{}},m.value=!0}});const p={[W.Email]:Me(()=>Ce(()=>import("./mailForm-T3h3XoCo.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url)),[W.Telegram]:Me(()=>Ce(()=>import("./telegramForm-Ci7GeIEJ.js"),__vite__mapDeps([11,1,2,3,4]),import.meta.url)),[W.PushPlus]:Me(()=>Ce(()=>import("./pushplusForm-DQTXX802.js"),__vite__mapDeps([12,1,2,3,4]),import.meta.url)),[W.ServerChan]:Me(()=>Ce(()=>import("./serverchanForm-CQvMfWyg.js"),__vite__mapDeps([13,1,2,3,4]),import.meta.url))},M=t,b=K(),c=async()=>{var x;if(await((x=b.value)==null?void 0:x.validate()))return!1;try{if(r.value){const h=await tl(u.value);if(h.success)return M("changed"),w(),m.value=!1,le.success(h.message),!0;throw new Error(h.message)}else{const h=await al(f.value,u.value);if(h.success)return M("changed"),w(),m.value=!1,le.success(h.message),!0;throw new Error(h.message)}}catch(h){return h instanceof Error&&le.error({content:h.message,resetOnHover:!0}),!1}},w=()=>{var y;(y=b.value)==null||y.resetFields()},I=()=>{w(),m.value=!1},$=async()=>{s.value=!0;const y=await c();s.value=!1,y&&(m.value=!1)},U=async()=>{var x;if(!await((x=b.value)==null?void 0:x.validate())){d.value=!0;try{const h=await ll(u.value);if(h.success)le.success(h.message);else throw new Error(h.message)}catch(h){h instanceof Error&&le.error({content:h.message,resetOnHover:!0})}finally{d.value=!1}}};return(y,x)=>{const h=fe,R=j,S=we,V=Y,v=lt,L=pa,B=at,C=nt,H=He;return k(),P(H,{visible:m.value,"onUpdate:visible":x[3]||(x[3]=A=>m.value=A),"mask-closable":!1,title:r.value?l(i)("page.settings.tab.config.push.form.title.new"):l(i)("page.settings.tab.config.push.form.title.edit"),width:"auto","unmount-on-close":"",onCancel:x[4]||(x[4]=()=>w()),onBeforeOk:c},{footer:a(()=>[e(R,{style:{display:"flex","justify-content":"space-between"}},{default:a(()=>[e(h,{loading:d.value,onClick:U},{default:a(()=>[_(g(l(i)("page.settings.tab.config.push.form.action.test")),1)]),_:1},8,["loading"]),e(R,null,{default:a(()=>[e(h,{onClick:I},{default:a(()=>[_(g(l(i)("page.settings.tab.config.push.form.action.cancel")),1)]),_:1}),e(h,{type:"primary",loading:s.value,onClick:$},{default:a(()=>[_(g(l(i)("page.settings.tab.config.push.form.action.ok")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),default:a(()=>[e(C,{ref_key:"formRef",ref:b,model:u.value,"auto-label-width":""},{default:a(()=>[e(V,{field:"name",label:l(i)("page.settings.tab.config.push.form.name"),required:""},{default:a(()=>[e(S,{modelValue:u.value.name,"onUpdate:modelValue":x[0]||(x[0]=A=>u.value.name=A),placeholder:l(i)("page.settings.tab.config.push.form.name.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(V,{field:"type",label:l(i)("page.settings.tab.config.push.form.type"),required:"",disabled:!r.value},{default:a(()=>[e(B,{modelValue:u.value.type,"onUpdate:modelValue":x[1]||(x[1]=A=>u.value.type=A),style:{width:"30rem"}},{default:a(()=>[e(L,{cols:4,"row-gap":16},{default:a(()=>[e(v,{value:l(W).Email},{default:a(()=>[_(g(l(i)("page.settings.tab.config.push.form.type."+l(W).Email)),1)]),_:1},8,["value"]),e(v,{value:l(W).Telegram},{default:a(()=>[_(g(l(i)("page.settings.tab.config.push.form.type."+l(W).Telegram)),1)]),_:1},8,["value"]),e(v,{value:l(W).PushPlus},{default:a(()=>[_(g(l(i)("page.settings.tab.config.push.form.type."+l(W).PushPlus)),1)]),_:1},8,["value"]),e(v,{value:l(W).ServerChan},{default:a(()=>[_(g(l(i)("page.settings.tab.config.push.form.type."+l(W).ServerChan)),1)]),_:1},8,["value"])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label","disabled"]),(k(),P(St(p[u.value.type]),{modelValue:u.value.config,"onUpdate:modelValue":x[2]||(x[2]=A=>u.value.config=A)},null,8,["modelValue"]))]),_:1},8,["model"])]),_:1},8,["visible","title"])}}}),sl=Ie(il,[["__scopeId","data-v-5070db82"]]),rl={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},ul={style:{display:"flex",alignItems:"center",color:"#1D2129"}},dl=D({__name:"pushCard",props:{channel:{}},emits:["deleted","edit"],setup(o,{emit:n}){const{t}=q(),i={[W.Email]:"#ffb400",[W.Telegram]:"#165DFF",[W.ServerChan]:"#b71de8",[W.PushPlus]:"#f53f3f"},m={[W.Email]:"M",[W.Telegram]:"T",[W.ServerChan]:"S",[W.PushPlus]:"P"},r=n,s=async u=>{try{const f=await nl(u);if(f.success)return le.success(f.message),r("deleted"),!0;throw new Error(f.message)}catch(f){return f instanceof Error&&le.error({content:f.message,resetOnHover:!0}),!1}},d=()=>{r("edit")};return(u,f)=>{const p=ma,M=de,b=fa,c=fe,w=Ge,I=Ye,$=_a,U=j,y=Lt;return k(),P(y,{hoverable:"",style:{width:"15rem",marginBottom:"20px"}},{default:a(()=>[G("div",rl,[G("span",ul,[e(p,{style:et({marginRight:"8px",backgroundColor:i[u.channel.type]}),size:28},{default:a(()=>[_(g(m[u.channel.type]),1)]),_:1},8,["style"]),e(M,null,{default:a(()=>[_(g(u.channel.name),1)]),_:1})]),e(U,{warp:"",size:"mini"},{default:a(()=>[e(w,{content:l(t)("page.settings.tab.config.push.edit"),position:"top",mini:""},{default:a(()=>[e(c,{class:"edit-btn",shape:"circle",type:"text",onClick:f[0]||(f[0]=()=>d())},{icon:a(()=>[e(b)]),_:1})]),_:1},8,["content"]),e($,{content:l(t)("page.settings.tab.config.push.deleteConfirm"),type:"warning",onBeforeOk:f[1]||(f[1]=()=>s(u.channel.name))},{default:a(()=>[e(c,{class:"edit-btn",status:"danger",shape:"circle",type:"text"},{icon:a(()=>[e(I)]),_:1})]),_:1},8,["content"])]),_:1})])]),_:1})}}}),pl=Ie(dl,[["__scopeId","data-v-caf4996a"]]),ml={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},fl=D({__name:"push",setup(o){const{t:n}=q(),{data:t,refresh:i,loading:m}=Ve(el),r=K(),s=()=>{var u;(u=r.value)==null||u.showModal(!0)},d=u=>{var f;(f=r.value)==null||f.showModal(!1,u)};return(u,f)=>{const p=se,M=de,b=Yt,c=fe,w=j,I=ca,$=Et,U=Lt,y=ga,x=ba;return k(),ne(ve,null,[e(w,{direction:"vertical",fill:""},{default:a(()=>[e(p,{heading:3},{default:a(()=>[_(g(l(n)("page.settings.tab.config.push.title")),1)]),_:1}),e(w,{style:{display:"flex","justify-content":"space-between"},fill:""},{default:a(()=>[e(M,null,{default:a(()=>[_(g(l(n)("page.settings.tab.config.push.description")),1)]),_:1}),e(c,{type:"primary",onClick:s},{icon:a(()=>[e(b)]),default:a(()=>[_(" "+g(l(n)("page.settings.tab.config.push.add")),1)]),_:1})]),_:1}),f[0]||(f[0]=G("br",null,null,-1)),e(x,{justify:"start",align:"stretch",wrap:!0,gutter:[{xs:8,sm:8,md:8,lg:24,xl:32},{xs:8,sm:8,md:8,lg:24,xl:32}]},{default:a(()=>{var h;return[l(m)?(k(),P(y,{key:0,xs:24,sm:12,md:8,lg:6},{default:a(()=>[e(U,{hoverable:"",style:{width:"15rem",marginBottom:"20px"}},{default:a(()=>[G("div",ml,[e(w,null,{default:a(()=>[e(I,{shape:"circle",animation:""}),e($,{animation:""})]),_:1})])]),_:1})]),_:1})):(k(!0),ne(ve,{key:1},Be((h=l(t))==null?void 0:h.data,R=>(k(),P(y,{key:R.name,xs:24,sm:12,md:8,lg:6},{default:a(()=>[e(pl,{channel:R,onDeleted:l(i),onEdit:S=>d(R)},null,8,["channel","onDeleted","onEdit"])]),_:2},1024))),128))]}),_:1})]),_:1}),e(sl,{ref_key:"editModal",ref:r,onChanged:l(i)},null,8,["onChanged"])],64)}}}),_l=D({__name:"webui",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=q(),t=J(o,"modelValue");return(i,m)=>{const r=se,s=we,d=Y,u=ie,f=Rt,p=Q,M=de,b=j;return k(),P(b,{direction:"vertical",fill:""},{default:a(()=>[e(r,{heading:3},{default:a(()=>[_(g(l(n)("page.settings.tab.config.server.title")),1)]),_:1}),e(d,{label:l(n)("page.settings.tab.config.server.address"),field:"server.address",required:"","validate-trigger":"focus",rules:[{type:"ip",required:!0}]},{default:a(()=>[e(s,{modelValue:t.value.address,"onUpdate:modelValue":m[0]||(m[0]=c=>t.value.address=c),style:{width:"100px"}},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{label:l(n)("page.settings.tab.config.server.port"),field:"server.http",required:"","validate-trigger":"focus",rules:[{max:65535,message:l(n)("page.settings.tab.config.server.port.error")},{min:1,message:l(n)("page.settings.tab.config.server.port.error")}]},{default:a(()=>[e(u,{modelValue:t.value.http,"onUpdate:modelValue":m[1]||(m[1]=c=>t.value.http=c),max:65535,min:1,style:{width:"100px"}},null,8,["modelValue"])]),_:1},8,["label","rules"]),e(d,{label:l(n)("page.settings.tab.config.server.prefix"),tooltip:l(n)("page.settings.tab.config.server.prefix.tips"),field:"server.prefix",required:"","validate-trigger":"focus",rules:[{type:"url",required:!0},{match:/[^\/]$/,message:l(n)("page.settings.tab.config.server.prefix.error")}]},{default:a(()=>[e(s,{modelValue:t.value.prefix,"onUpdate:modelValue":m[2]||(m[2]=c=>t.value.prefix=c),style:{width:"200px"}},null,8,["modelValue"])]),_:1},8,["label","tooltip","rules"]),e(d,{label:"Token",field:"server.token",required:""},{default:a(()=>[e(f,{modelValue:t.value.token,"onUpdate:modelValue":m[3]||(m[3]=c=>t.value.token=c),style:{width:"350px"}},null,8,["modelValue"])]),_:1}),e(d,{label:l(n)("page.settings.tab.config.server.cors"),field:"server.allow_cors"},ae({default:a(()=>[e(p,{modelValue:t.value.allow_cors,"onUpdate:modelValue":m[4]||(m[4]=c=>t.value.allow_cors=c)},null,8,["modelValue"])]),_:2},[t.value.allow_cors?{name:"extra",fn:a(()=>[e(M,{type:"warning"},{default:a(()=>[_(g(l(n)("page.settings.tab.config.server.cors.tips")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"])]),_:1})}}}),cl={id:"top",style:{position:"relative"}},gl=D({__name:"index",setup(o){const n=me(),{t}=q(),i=Ct({server:{},logger:{},lookup:{},persist:{},btn:{},ip_database:{},privacy:{},proxy:{},performance:{}}),{loading:m}=Ve(ta,{onSuccess:d=>{Object.assign(i,d.data)}}),r=K(!1),s=()=>{r.value=!0,aa(i).then(d=>{le.success(d.message)}).catch(d=>{le.error(d.message)}).finally(()=>{r.value=!1})};return(d,u)=>{const f=se,p=de,M=j,b=lt,c=at,w=Te("i18n-t"),I=Y,$=fe,U=Q,y=ot,x=Ot,h=nt,R=At;return k(),P(R,{style:{width:"100%"},loading:l(m),dot:""},{default:a(()=>[G("div",cl,[e(h,{model:i,"scroll-to-first-error":!0},{default:a(()=>[e(M,{direction:"vertical",fill:"",size:"large"},{default:a(()=>[e(M,{direction:"vertical",fill:"",style:{width:"100%"}},{default:a(()=>[e(f,{heading:3},{default:a(()=>[_(g(l(t)("page.settings.tab.config.title")),1)]),_:1}),e(p,null,{default:a(()=>[_(g(l(t)("page.settings.tab.config.tips")),1)]),_:1})]),_:1}),e(I,{label:l(t)("page.settings.tab.config.language")},{extra:a(()=>[e(w,{keypath:"page.settings.tab.config.language.tips"},{not:a(()=>[G("strong",null,g(l(t)("page.settings.tab.config.language.tips.not")),1)]),_:1})]),default:a(()=>[e(c,{modelValue:i.language,"onUpdate:modelValue":u[0]||(u[0]=S=>i.language=S)},{default:a(()=>[e(b,{value:"en_us"},{default:a(()=>u[12]||(u[12]=[_("English")])),_:1}),e(b,{value:"zh_cn"},{default:a(()=>u[13]||(u[13]=[_("简体中文")])),_:1}),e(b,{value:"default"},{default:a(()=>[_(g(l(t)("page.settings.tab.config.language.default")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(I,{label:"PBH Plus key"},{default:a(()=>[e($,{type:"primary",onClick:u[1]||(u[1]=S=>l(n).emitter.emit("open-plus-modal"))},{default:a(()=>[_(g(l(t)("page.settings.tab.config.plus.button")),1)]),_:1})]),_:1}),e(I,{label:l(t)("page.settings.tab.config.privacy.errorReport"),field:"privacy.error_reporting"},{default:a(()=>[e(U,{modelValue:i.privacy.error_reporting,"onUpdate:modelValue":u[2]||(u[2]=S=>i.privacy.error_reporting=S)},null,8,["modelValue"])]),_:1},8,["label"]),e(y),e(_l,{modelValue:i.server,"onUpdate:modelValue":u[3]||(u[3]=S=>i.server=S)},null,8,["modelValue"]),e(y),e(Xa,{modelValue:i.logger,"onUpdate:modelValue":u[4]||(u[4]=S=>i.logger=S)},null,8,["modelValue"]),e(y),e(Ja,{modelValue:i.lookup,"onUpdate:modelValue":u[5]||(u[5]=S=>i.lookup=S)},null,8,["modelValue"]),e(y),e(Qa,{modelValue:i.persist,"onUpdate:modelValue":u[6]||(u[6]=S=>i.persist=S)},null,8,["modelValue"]),e(y),e(Fa,{modelValue:i.btn,"onUpdate:modelValue":u[7]||(u[7]=S=>i.btn=S)},null,8,["modelValue"]),e(y),e(Za,{modelValue:i.proxy,"onUpdate:modelValue":u[8]||(u[8]=S=>i.proxy=S)},null,8,["modelValue"]),e(y),e(Wa,{modelValue:i.ip_database,"onUpdate:modelValue":u[9]||(u[9]=S=>i.ip_database=S)},null,8,["modelValue"]),e(y),e(Ka,{modelValue:i.performance,"onUpdate:modelValue":u[10]||(u[10]=S=>i.performance=S)},null,8,["modelValue"]),e(y),e(fl),u[14]||(u[14]=G("br",null,null,-1)),e(I,{"label-col-flex":"0"},{default:a(()=>[e($,{"html-type":"submit",type:"primary",loading:r.value,onClick:u[11]||(u[11]=S=>s())},{icon:a(()=>[e(x)]),default:a(()=>[_(" "+g(l(t)("page.settings.tab.profile.save")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1},8,["loading"])}}});var qt=(o=>(o.Linux="Linux",o.Windows="Windows",o.MacOS="Mac OS X",o.FreeBSD="FreeBSD",o.Solaris="Solaris",o.Other="Other",o))(qt||{});const bl=D({__name:"multiClick",props:{required:{},timeLimit:{}},emits:["multiClick"],setup(o,{emit:n}){const t=n,i=K(0),m=K(null),r=()=>{i.value++,m.value||(m.value=setTimeout(()=>{i.value=0,m.value=null},o.timeLimit)),i.value===o.required&&(clearTimeout(m.value),m.value=null,i.value=0,t("multiClick"))};return(s,d)=>(k(),ne("button",{class:"no-style-button",onClick:r},[Qt(s.$slots,"default",{},void 0,!0)]))}}),vl=Ie(bl,[["__scopeId","data-v-e4301f4d"]]);var je={exports:{}},yl=je.exports,gt;function hl(){return gt||(gt=1,function(o,n){(function(t,i){o.exports=i()})(yl,function(){var t,i,m=1e3,r=6e4,s=36e5,d=864e5,u=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=31536e6,p=2628e6,M=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,b={years:f,months:p,days:d,hours:s,minutes:r,seconds:m,milliseconds:1,weeks:6048e5},c=function(S){return S instanceof h},w=function(S,V,v){return new h(S,v,V.$l)},I=function(S){return i.p(S)+"s"},$=function(S){return S<0},U=function(S){return $(S)?Math.ceil(S):Math.floor(S)},y=function(S){return Math.abs(S)},x=function(S,V){return S?$(S)?{negative:!0,format:""+y(S)+V}:{negative:!1,format:""+S+V}:{negative:!1,format:""}},h=function(){function S(v,L,B){var C=this;if(this.$d={},this.$l=B,v===void 0&&(this.$ms=0,this.parseFromMilliseconds()),L)return w(v*b[I(L)],this);if(typeof v=="number")return this.$ms=v,this.parseFromMilliseconds(),this;if(typeof v=="object")return Object.keys(v).forEach(function(te){C.$d[I(te)]=v[te]}),this.calMilliseconds(),this;if(typeof v=="string"){var H=v.match(M);if(H){var A=H.slice(2).map(function(te){return te!=null?Number(te):0});return this.$d.years=A[0],this.$d.months=A[1],this.$d.weeks=A[2],this.$d.days=A[3],this.$d.hours=A[4],this.$d.minutes=A[5],this.$d.seconds=A[6],this.calMilliseconds(),this}}return this}var V=S.prototype;return V.calMilliseconds=function(){var v=this;this.$ms=Object.keys(this.$d).reduce(function(L,B){return L+(v.$d[B]||0)*b[B]},0)},V.parseFromMilliseconds=function(){var v=this.$ms;this.$d.years=U(v/f),v%=f,this.$d.months=U(v/p),v%=p,this.$d.days=U(v/d),v%=d,this.$d.hours=U(v/s),v%=s,this.$d.minutes=U(v/r),v%=r,this.$d.seconds=U(v/m),v%=m,this.$d.milliseconds=v},V.toISOString=function(){var v=x(this.$d.years,"Y"),L=x(this.$d.months,"M"),B=+this.$d.days||0;this.$d.weeks&&(B+=7*this.$d.weeks);var C=x(B,"D"),H=x(this.$d.hours,"H"),A=x(this.$d.minutes,"M"),te=this.$d.seconds||0;this.$d.milliseconds&&(te+=this.$d.milliseconds/1e3,te=Math.round(1e3*te)/1e3);var _e=x(te,"S"),Ee=v.negative||L.negative||C.negative||H.negative||A.negative||_e.negative,ye=H.format||A.format||_e.format?"T":"",re=(Ee?"-":"")+"P"+v.format+L.format+C.format+ye+H.format+A.format+_e.format;return re==="P"||re==="-P"?"P0D":re},V.toJSON=function(){return this.toISOString()},V.format=function(v){var L=v||"YYYY-MM-DDTHH:mm:ss",B={Y:this.$d.years,YY:i.s(this.$d.years,2,"0"),YYYY:i.s(this.$d.years,4,"0"),M:this.$d.months,MM:i.s(this.$d.months,2,"0"),D:this.$d.days,DD:i.s(this.$d.days,2,"0"),H:this.$d.hours,HH:i.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:i.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:i.s(this.$d.seconds,2,"0"),SSS:i.s(this.$d.milliseconds,3,"0")};return L.replace(u,function(C,H){return H||String(B[C])})},V.as=function(v){return this.$ms/b[I(v)]},V.get=function(v){var L=this.$ms,B=I(v);return B==="milliseconds"?L%=1e3:L=B==="weeks"?U(L/b[B]):this.$d[B],L||0},V.add=function(v,L,B){var C;return C=L?v*b[I(L)]:c(v)?v.$ms:w(v,this).$ms,w(this.$ms+C*(B?-1:1),this)},V.subtract=function(v,L){return this.add(v,L,!0)},V.locale=function(v){var L=this.clone();return L.$l=v,L},V.clone=function(){return w(this.$ms,this)},V.humanize=function(v){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!v)},V.valueOf=function(){return this.asMilliseconds()},V.milliseconds=function(){return this.get("milliseconds")},V.asMilliseconds=function(){return this.as("milliseconds")},V.seconds=function(){return this.get("seconds")},V.asSeconds=function(){return this.as("seconds")},V.minutes=function(){return this.get("minutes")},V.asMinutes=function(){return this.as("minutes")},V.hours=function(){return this.get("hours")},V.asHours=function(){return this.as("hours")},V.days=function(){return this.get("days")},V.asDays=function(){return this.as("days")},V.weeks=function(){return this.get("weeks")},V.asWeeks=function(){return this.as("weeks")},V.months=function(){return this.get("months")},V.asMonths=function(){return this.as("months")},V.years=function(){return this.get("years")},V.asYears=function(){return this.as("years")},S}(),R=function(S,V,v){return S.add(V.years()*v,"y").add(V.months()*v,"M").add(V.days()*v,"d").add(V.hours()*v,"h").add(V.minutes()*v,"m").add(V.seconds()*v,"s").add(V.milliseconds()*v,"ms")};return function(S,V,v){t=v,i=v().$utils(),v.duration=function(C,H){var A=v.locale();return w(C,{$l:A},H)},v.isDuration=c;var L=V.prototype.add,B=V.prototype.subtract;V.prototype.add=function(C,H){return c(C)?R(this,C,1):L.bind(this)(C,H)},V.prototype.subtract=function(C,H){return c(C)?R(this,C,-1):B.bind(this)(C,H)}}})}(je)),je.exports}var Vl=hl();const kl=Mt(Vl);var ze={exports:{}},xl=ze.exports,bt;function wl(){return bt||(bt=1,function(o,n){(function(t,i){o.exports=i()})(xl,function(){return function(t,i,m){t=t||{};var r=i.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d(f,p,M,b){return r.fromToBase(f,p,M,b)}m.en.relativeTime=s,r.fromToBase=function(f,p,M,b,c){for(var w,I,$,U=M.$locale().relativeTime||s,y=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],x=y.length,h=0;h<x;h+=1){var R=y[h];R.d&&(w=b?m(f).diff(M,R.d,!0):M.diff(f,R.d,!0));var S=(t.rounding||Math.round)(Math.abs(w));if($=w>0,S<=R.r||!R.r){S<=1&&h>0&&(R=y[h-1]);var V=U[R.l];c&&(S=c(""+S)),I=typeof V=="string"?V.replace("%d",S):V(S,p,R.l,$);break}}if(p)return I;var v=$?U.future:U.past;return typeof v=="function"?v(I):v.replace("%s",I)},r.to=function(f,p){return d(f,p,this,!0)},r.from=function(f,p){return d(f,p,this)};var u=function(f){return f.$u?m.utc():m()};r.toNow=function(f){return this.to(u(this),f)},r.fromNow=function(f){return this.from(u(this),f)}}})}(ze)),ze.exports}var $l=wl();const Il=Mt($l);var Qe={},ee={},pe={},vt;function Ne(){if(vt)return pe;vt=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.isIP=pe.isIPv6=pe.isIPv4=void 0;var o="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",n="("+o+"[.]){3}"+o,t=new RegExp("^"+n+"$"),i="(?:[0-9a-fA-F]{1,4})",m=new RegExp("^("+("(?:"+i+":){7}(?:"+i+"|:)|")+("(?:"+i+":){6}(?:"+n+"|:"+i+"|:)|")+("(?:"+i+":){5}(?::"+n+"|(:"+i+"){1,2}|:)|")+("(?:"+i+":){4}(?:(:"+i+"){0,1}:"+n+"|(:"+i+"){1,3}|:)|")+("(?:"+i+":){3}(?:(:"+i+"){0,2}:"+n+"|(:"+i+"){1,4}|:)|")+("(?:"+i+":){2}(?:(:"+i+"){0,3}:"+n+"|(:"+i+"){1,5}|:)|")+("(?:"+i+":){1}(?:(:"+i+"){0,4}:"+n+"|(:"+i+"){1,6}|:)|")+("(?::((?::"+i+"){0,5}:"+n+"|(?::"+i+"){1,7}|:))")+")(%[0-9a-zA-Z]{1,})?$");function r(u){return t.test(u)}pe.isIPv4=r;function s(u){return m.test(u)}pe.isIPv6=s;function d(u){return r(u)?4:s(u)?6:0}return pe.isIP=d,pe}var qe={},yt;function jt(){return yt||(yt=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.default={localhost:{ipv4:["127.0.0.0/8"],ipv6:["::1/128"]},private:{ipv4:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16"],ipv6:["fe80::/10","fc00::/7"]},reserved:{ipv4:["0.0.0.0/8","100.64.0.0/10","169.254.0.0/16","192.0.0.0/24","192.0.2.0/24","192.88.99.0/24","198.18.0.0/15","198.51.100.0/24","203.0.113.0/24","224.0.0.0/4","240.0.0.0/4","255.255.255.255/32"],ipv6:["::/128","64:ff9b::/96","100::/64","2001::/32","2001:10::/28","2001:20::/28","2001:db8::/32","2002::/16","ff00::/8"]}}),qe}var ht;function Pl(){if(ht)return ee;ht=1;var o=ee&&ee.__spreadArrays||function(){for(var b=0,c=0,w=arguments.length;c<w;c++)b+=arguments[c].length;for(var I=Array(b),$=0,c=0;c<w;c++)for(var U=arguments[c],y=0,x=U.length;y<x;y++,$++)I[$]=U[y];return I};Object.defineProperty(ee,"__esModule",{value:!0}),ee.isSpecial=ee.isReserved=ee.isLocalhost=ee.isPrivate=ee.createChecker=ee.isInSubnet=void 0;var n=Ne(),t=jt();function i(b){if(!n.isIPv4(b))throw new Error("not a valid IPv4 address: "+b);var c=b.split(".");return(parseInt(c[0],10)<<24)+(parseInt(c[1],10)<<16)+(parseInt(c[2],10)<<8)+parseInt(c[3],10)>>>0}function m(b,c){return r(c)(b)}ee.isInSubnet=m;function r(b){if(Array.isArray(b)){var c=b.map(function(I){return s(I)});return function(I){var $=i(I);return c.some(function(U){return U($)})}}var w=s(b);return function(I){var $=i(I);return w($)}}ee.createChecker=r;function s(b){var c=b.split("/"),w=c[0],I=c[1],$=parseInt(I,10);if(!w||!Number.isInteger($))throw new Error("not a valid IPv4 subnet: "+b);if($<0||$>32)throw new Error("not a valid IPv4 prefix length: "+$+" (from "+b+")");var U=i(w);return function(y){if($===0)return!0;var x=U>>32-$,h=y>>32-$;return x===h}}var d={};function u(b){return"private"in d||(d.private=r(t.default.private.ipv4)),d.private(b)}ee.isPrivate=u;function f(b){return"localhost"in d||(d.localhost=r(t.default.localhost.ipv4)),d.localhost(b)}ee.isLocalhost=f;function p(b){return"reserved"in d||(d.reserved=r(t.default.reserved.ipv4)),d.reserved(b)}ee.isReserved=p;function M(b){return"special"in d||(d.special=r(o(t.default.private.ipv4,t.default.localhost.ipv4,t.default.reserved.ipv4))),d.special(b)}return ee.isSpecial=M,ee}var F={},Vt;function Sl(){if(Vt)return F;Vt=1;var o=F&&F.__spreadArrays||function(){for(var x=0,h=0,R=arguments.length;h<R;h++)x+=arguments[h].length;for(var S=Array(x),V=0,h=0;h<R;h++)for(var v=arguments[h],L=0,B=v.length;L<B;L++,V++)S[V]=v[L];return S};Object.defineProperty(F,"__esModule",{value:!0}),F.isSpecial=F.isReserved=F.isIPv4MappedAddress=F.isLocalhost=F.isPrivate=F.createChecker=F.isInSubnet=F.extractMappedIpv4=void 0;var n=Ne(),t=jt(),i=/\./,m=/^(.+:ffff:)(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?:%.+)?$/,r=/:/,s=/::/;function d(x){var h=x.match(m);if(!h||!n.isIPv4(h[2]))throw new Error("not a mapped IPv4 address: "+x);var R=h[1],S=h[2],V=S.split(i).map(function(B){return parseInt(B,10)}),v=((V[0]<<8)+V[1]).toString(16),L=((V[2]<<8)+V[3]).toString(16);return""+R+v+":"+L}function u(x){var h=x.match(m);if(!h||!n.isIPv4(h[2]))throw new Error("not a mapped IPv4 address: "+x);return h[2]}F.extractMappedIpv4=u;function f(x){if(!n.isIPv6(x))throw new Error("not a valid IPv6 address: "+x);if(i.test(x))return f(d(x));var h=x.split(s),R=h[0],S=h[1],V=R&&R.split(r)||[],v=S&&S.split(r)||[],L=new Array(8-(V.length+v.length));return V.concat(L,v)}function p(x,h){return M(h)(x)}F.isInSubnet=p;function M(x){if(Array.isArray(x)){var h=x.map(function(S){return b(S)});return function(S){var V=f(S);return h.some(function(v){return v(V)})}}var R=b(x);return function(S){var V=f(S);return R(V)}}F.createChecker=M;function b(x){var h=x.split("/"),R=h[0],S=h[1],V=parseInt(S,10);if(!R||!Number.isInteger(V))throw new Error("not a valid IPv6 CIDR subnet: "+x);if(V<0||V>128)throw new Error("not a valid IPv6 prefix length: "+V+" (from "+x+")");var v=f(R);return function(L){for(var B=0;B<8;++B){var C=Math.min(V-B*16,16);if(C<=0)break;var H=(v[B]&&parseInt(v[B],16)||0)>>16-C,A=(L[B]&&parseInt(L[B],16)||0)>>16-C;if(H!==A)return!1}return!0}}var c={};function w(x){return"private"in c||(c.private=M(t.default.private.ipv6)),c.private(x)}F.isPrivate=w;function I(x){return"localhost"in c||(c.localhost=M(t.default.localhost.ipv6)),c.localhost(x)}F.isLocalhost=I;function $(x){if("mapped"in c||(c.mapped=M("::ffff:0:0/96")),c.mapped(x)){var h=x.match(m);return!!(h&&n.isIPv4(h[2]))}return!1}F.isIPv4MappedAddress=$;function U(x){return"reserved"in c||(c.reserved=M(t.default.reserved.ipv6)),c.reserved(x)}F.isReserved=U;function y(x){return"special"in c||(c.special=M(o(t.default.private.ipv6,t.default.localhost.ipv6,t.default.reserved.ipv6))),c.special(x)}return F.isSpecial=y,F}var kt;function Cl(){return kt||(kt=1,function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.check=o.isSpecial=o.isReserved=o.isIPv4MappedAddress=o.isLocalhost=o.isPrivate=o.createChecker=o.isInSubnet=o.IPv6=o.IPv4=o.isIPv6=o.isIPv4=o.isIP=void 0;var n=Pl();o.IPv4=n;var t=Sl();o.IPv6=t;var i=Ne(),m=Ne();Object.defineProperty(o,"isIP",{enumerable:!0,get:function(){return m.isIP}}),Object.defineProperty(o,"isIPv4",{enumerable:!0,get:function(){return m.isIPv4}}),Object.defineProperty(o,"isIPv6",{enumerable:!0,get:function(){return m.isIPv6}});function r(b,c){return s(c)(b)}o.isInSubnet=r;function s(b){if(!Array.isArray(b))return s([b]);var c=b.reduce(function($,U){var y=U.split("/")[0];return $[i.isIP(y)].push(U),$},{0:[],4:[],6:[]});if(c[0].length!==0)throw new Error("some subnets are not valid IP addresses: "+c[0]);var w=n.createChecker(c[4]),I=t.createChecker(c[6]);return function($){if(!i.isIP($))throw new Error("not a valid IPv4 or IPv6 address: "+$);return i.isIPv6($)&&t.isIPv4MappedAddress($)?I($)||w(t.extractMappedIpv4($)):i.isIPv6($)?I($):w($)}}o.createChecker=s;function d(b){return i.isIPv6(b)?t.isIPv4MappedAddress(b)?n.isPrivate(t.extractMappedIpv4(b)):t.isPrivate(b):n.isPrivate(b)}o.isPrivate=d;function u(b){return i.isIPv6(b)?t.isIPv4MappedAddress(b)?n.isLocalhost(t.extractMappedIpv4(b)):t.isLocalhost(b):n.isLocalhost(b)}o.isLocalhost=u;function f(b){return i.isIPv6(b)?t.isIPv4MappedAddress(b):!1}o.isIPv4MappedAddress=f;function p(b){return i.isIPv6(b)?t.isIPv4MappedAddress(b)?n.isReserved(t.extractMappedIpv4(b)):t.isReserved(b):n.isReserved(b)}o.isReserved=p;function M(b){return i.isIPv6(b)?t.isIPv4MappedAddress(b)?n.isSpecial(t.extractMappedIpv4(b)):t.isSpecial(b):n.isSpecial(b)}o.isSpecial=M,o.check=r}(Qe)),Qe}var Ze=Cl();const xt="[a-fA-F\\d:]",be=o=>o&&o.includeBoundaries?`(?:(?<=\\s|^)(?=${xt})|(?<=${xt})(?=\\s|$))`:"",ue="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",X="[a-fA-F\\d]{1,4}",Fe=`
(?:
(?:${X}:){7}(?:${X}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${X}:){6}(?:${ue}|:${X}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${X}:){5}(?::${ue}|(?::${X}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${X}:){4}(?:(?::${X}){0,1}:${ue}|(?::${X}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${X}:){3}(?:(?::${X}){0,2}:${ue}|(?::${X}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${X}:){2}(?:(?::${X}){0,3}:${ue}|(?::${X}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${X}:){1}(?:(?::${X}){0,4}:${ue}|(?::${X}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${X}){0,5}:${ue}|(?::${X}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),Ml=new RegExp(`(?:^${ue}$)|(?:^${Fe}$)`),Ul=new RegExp(`^${ue}$`),Bl=new RegExp(`^${Fe}$`),rt=o=>o&&o.exact?Ml:new RegExp(`(?:${be(o)}${ue}${be(o)})|(?:${be(o)}${Fe}${be(o)})`,"g");rt.v4=o=>o&&o.exact?Ul:new RegExp(`${be(o)}${ue}${be(o)}`,"g");rt.v6=o=>o&&o.exact?Bl:new RegExp(`${be(o)}${Fe}${be(o)}`,"g");function Tl(o){const n=(...t)=>o(...t);return Object.defineProperty(n,"name",{value:`functionTimeout(${o.name||"<anonymous>"})`,configurable:!0}),n}const{toString:Rl}=Object.prototype;function Ll(o){return Rl.call(o)==="[object RegExp]"}const wt={global:"g",ignoreCase:"i",multiline:"m",dotAll:"s",sticky:"y",unicode:"u"};function El(o,n={}){if(!Ll(o))throw new TypeError("Expected a RegExp instance");const t=Object.keys(wt).map(m=>(typeof n[m]=="boolean"?n[m]:o[m])?wt[m]:"").join(""),i=new RegExp(n.source||o.source,t);return i.lastIndex=typeof n.lastIndex=="number"?n.lastIndex:o.lastIndex,i}function Al(o,n,{timeout:t}={}){try{return Tl(()=>El(o).test(n),{timeout:t})()}catch(i){throw i}}const Dl=45,Ol={timeout:400};function ql(o){return o.length>Dl?!1:Al(rt({exact:!0}),o,Ol)}const jl=["innerHTML"],zl=D({__name:"btnAbilitiesModal",setup(o,{expose:n}){const t=new $t,{t:i,d:m}=q(),r=K(!1),s=K([]);return n({showModal:d=>{s.value=d,r.value=!0}}),(d,u)=>{const f=de,p=Dt,M=it,b=Ge,c=va,w=j,I=Re,$=Le,U=He;return k(),P(U,{visible:r.value,"onUpdate:visible":u[0]||(u[0]=y=>r.value=y),title:"BTN "+l(i)("page.settings.tab.info.btn.abilities"),"unmount-on-close":"","hide-cancel":"",width:"auto"},{default:a(()=>[e(w,{direction:"vertical",fill:""},{default:a(()=>[e(f,null,{default:a(()=>[_(g(l(i)("page.settings.tab.info.btn.abilities.tips")),1)]),_:1}),e($,{data:s.value,"virtual-list-props":{height:500,threshold:5},style:{"max-width":"60rem"}},{item:a(({item:y})=>[e(I,{"action-layout":"vertical"},{actions:a(()=>[e(w,{style:{cursor:"default"}},{default:a(()=>[e(f,null,{default:a(()=>[_(g(l(i)("page.settings.tab.info.btn.abilities.list.lastSuccess"))+":  ",1),e(b,{content:y.lastMessage},{default:a(()=>[e(M,{color:y.lastSuccess?"green":"red"},{default:a(()=>[_(g(y.lastSuccess?l(i)("page.settings.tab.info.btn.abilities.list.lastSuccess.success"):l(i)("page.settings.tab.info.btn.abilities.list.lastSuccess.failed")),1)]),_:2},1032,["color"])]),_:2},1032,["content"])]),_:2},1024),u[1]||(u[1]=G("br",null,null,-1)),e(f,null,{default:a(()=>[_(g(l(i)("page.settings.tab.info.btn.abilities.list.lastSuccessTime"))+": ",1),e(c),_(" "+g(l(m)(y.lastUpdateAt,"long")),1)]),_:2},1024)]),_:2},1024)]),default:a(()=>[e(p,{title:y.displayName},{description:a(()=>[G("div",{innerHTML:l(t).render(y.description)},null,8,jl)]),_:2},1032,["title"])]),_:2},1024)]),_:1},8,["data"])]),_:1})]),_:1},8,["visible","title"])}}}),Nl={key:1},Hl={key:1},Gl=D({__name:"index",setup(o){Oe.extend(Il),Oe.extend(kl);const n=Me(()=>Ce(()=>import("./logViewer-BMEK-Ie2.js"),__vite__mapDeps([14,1,2,3,4,15]),import.meta.url)),{t,d:i}=q(),m=K(!0),r=K(!0),{data:s}=Ve(na,{onSuccess:()=>{m.value=!1}}),d=me(),u=O(()=>{var V,v;return 1-(((V=s.value)==null?void 0:V.data.system.memory.free)??0)/((((v=s.value)==null?void 0:v.data.system.memory.total)??1)+1)}),f=O(()=>{var V,v;return 1-(((V=s.value)==null?void 0:V.data.jvm.memory.heap.free)??0)/((((v=s.value)==null?void 0:v.data.jvm.memory.heap.max)??1)+1)}),p=O(()=>u.value>.85?"danger":u.value>.7?"warning":"normal"),M=O(()=>f.value>.85?"danger":f.value>.7?"warning":"normal"),b="2.4.3",c=O(()=>`9e9f59c97870ce832818a743bc65cefe706d7909
`),{data:w}=Ve(oa,{defaultParams:["btn"],onSuccess:()=>r.value=!1}),{data:I,loading:$}=Ve(la,{ready:O(()=>{var V;return((V=w.value)==null?void 0:V.data)??!1})}),U=O(()=>$||r.value),y=K(),x=O(()=>{var V;return!!((V=s.value)!=null&&V.data.system.network.client_ip&&ql(s.value.data.system.network.client_ip)&&(s.value.data.system.network.client_ip==="::1"||Ze.isInSubnet(s.value.data.system.network.client_ip,"127.0.0.1/8")||Ze.isInSubnet(s.value.data.system.network.client_ip,"172.17.0.0/16")||Ze.isInSubnet(s.value.data.system.network.client_ip,"172.18.0.0/16")))}),h={Windows:$e("icon-Windows"),Linux:$e("icon-linux"),FreeBSD:$e("icon-freebsd"),"Mac OS X":$e("icon-mac-os"),Solaris:$e("icon-solaris"),Other:$e("icon-other")},R=K(!1),S=()=>{le.info(t("page.settings.tab.info.downloadHeap")),setTimeout(async()=>{const V=await ia(),v=document.createElement("a");v.href=V.toString(),v.target="_blank",v.download="heapdump.hprof.gz",v.click()},1e3)};return(V,v)=>{const L=se,B=Et,C=ya,H=Pe,A=ha,te=Va,_e=ot,Ee=Xt,ye=Ge,re=j,ut=ka,dt=fe,Ae=it,Nt=xa,pt=wa,he=de,Ht=Jt,Gt=He;return k(),ne(ve,null,[m.value?(k(),P(re,{key:0,direction:"vertical",fill:""},{default:a(()=>[e(L,{heading:3},{default:a(()=>[_(g(l(t)("page.settings.tab.info.title")),1)]),_:1}),e(te,{size:.5,disabled:""},{first:a(()=>[e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.version"),align:{label:"right"}},{default:a(()=>[e(C,{label:l(t)("page.settings.tab.info.version.current")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.version.webui")},{default:a(()=>[_(g(l(b))+" (",1),e(H,{href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${c.value}`},{default:a(()=>[_(g(c.value.substring(0,8)),1)]),_:1},8,["href"]),v[4]||(v[4]=_(") "))]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.version.ReleaseType")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.version.compileTime")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.version.uptime")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.version.plus")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"])]),_:1},8,["title"])]),second:a(()=>[e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.system"),align:{label:"right"}},{default:a(()=>[e(C,{label:l(t)("page.settings.tab.info.system.os")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.system.version")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.system.cores")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.system.memory.total")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.system.memory.free")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.system.load")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"])]),_:1},8,["title"])]),_:1}),e(_e),e(te,{size:.5,disabled:""},{first:a(()=>[e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.network"),align:{label:"right"}},{default:a(()=>[e(C,{label:l(t)("page.settings.tab.info.network.internet")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.network.proxy")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.network.reverseProxy")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"]),e(C,null,{label:a(()=>[_(g(l(t)("page.settings.tab.info.network.clientIP"))+" ",1),e(ye,{content:l(t)("page.settings.tab.info.network.clientIP.warning")},{default:a(()=>[e(Ee)]),_:1},8,["content"])]),default:a(()=>[e(B,{rows:1})]),_:1})]),_:1},8,["title"])]),second:a(()=>[e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.runtime"),align:{label:"right"}},{default:a(()=>[e(C,{label:l(t)("page.settings.tab.info.runtime.version")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.runtime.vendor")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.runtime.runtime")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.runtime.heapMemory")},{default:a(()=>[e(B,{rows:1})]),_:1},8,["label"])]),_:1},8,["title"])]),_:1}),e(_e),e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.btn"),align:{label:"right"}},{default:a(()=>[e(C,{label:l(t)("page.settings.tab.info.btn.module")},{default:a(()=>[e(B,{rows:1,widths:[300]})]),_:1},8,["label"])]),_:1},8,["title"]),e(B,{widths:[400]}),e(B,{widths:[400]}),e(B,{widths:[400]}),e(B,{widths:[400]}),e(B,{widths:[400]})]),_:1})):(k(),P(re,{key:1,direction:"vertical",fill:""},{default:a(()=>[e(re,{style:{display:"flex","justify-content":"space-between"}},{default:a(()=>[e(L,{heading:3},{default:a(()=>[_(g(l(t)("page.settings.tab.info.title")),1)]),_:1}),e(dt,{type:"primary",onClick:v[0]||(v[0]=T=>R.value=!0)},{icon:a(()=>[e(ut)]),default:a(()=>[_(" "+g(l(t)("page.settings.tab.info.log.button")),1)]),_:1})]),_:1}),e(te,{size:.5,disabled:""},{first:a(()=>[e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.version"),align:{label:"right"}},{default:a(()=>[e(C,{label:l(t)("page.settings.tab.info.version.current")},{default:a(()=>{var T,E;return[_(g((T=l(s))==null?void 0:T.data.peerbanhelper.version)+" (",1),e(H,{href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${(E=l(s))==null?void 0:E.data.peerbanhelper.commit_id}`},{default:a(()=>{var N;return[_(g((N=l(s))==null?void 0:N.data.peerbanhelper.commit_id.substring(0,8)),1)]}),_:1},8,["href"]),v[5]||(v[5]=_(") "))]}),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.version.webui")},{default:a(()=>[_(g(l(b))+" (",1),e(H,{href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${c.value}`},{default:a(()=>[_(g(c.value.substring(0,8)),1)]),_:1},8,["href"]),v[6]||(v[6]=_(") "))]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.version.ReleaseType")},{default:a(()=>{var T;return[e(Ae,{color:l(Ft)(((T=l(s))==null?void 0:T.data.peerbanhelper.release)??"unknown")},{default:a(()=>{var E;return[_(g((E=l(s))==null?void 0:E.data.peerbanhelper.release),1)]}),_:1},8,["color"])]}),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.version.compileTime")},{default:a(()=>{var T;return[_(g(l(i)(l(Oe).unix(((T=l(s))==null?void 0:T.data.peerbanhelper.compile_time)??0).toDate(),"long")),1)]}),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.version.uptime")},{default:a(()=>{var T;return[_(g(l(Oe).duration({seconds:(T=l(s))==null?void 0:T.data.peerbanhelper.uptime}).humanize()),1)]}),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.version.plus")},{default:a(()=>{var T,E;return[G("button",{class:"tag-button",onClick:v[1]||(v[1]=N=>l(d).emitter.emit("open-plus-modal"))},[e(Ae,{color:(T=l(d).plusStatus)!=null&&T.activated?"green":"red"},ae({default:a(()=>{var N;return[_(" "+g(l(t)((N=l(d).plusStatus)!=null&&N.activated?"page.settings.tab.info.version.plus.active":"page.settings.tab.info.version.plus.inactive")),1)]}),_:2},[(E=l(d).plusStatus)!=null&&E.activated?{name:"icon",fn:a(()=>[e(Nt)]),key:"0"}:void 0]),1032,["color"])])]}),_:1},8,["label"])]),_:1},8,["title"])]),second:a(()=>[e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.system"),align:{label:"right"}},{default:a(()=>{var T;return[e(C,{label:l(t)("page.settings.tab.info.system.os")},{default:a(()=>{var E,N,ce,Se;return[(k(),P(St(h[((E=l(s))==null?void 0:E.data.system.os)??"Other"]))),_(" "+g(((N=l(s))==null?void 0:N.data.system.os)===l(qt).MacOS?l(Wt)((ce=l(s))==null?void 0:ce.data.system.version,"11.0.0",">")?"macOS":"data?.data.system.os":(Se=l(s))==null?void 0:Se.data.system.os),1)]}),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.system.version")},{default:a(()=>[e(re,null,{default:a(()=>{var E;return[_(g((E=l(s))==null?void 0:E.data.system.version)+" ",1),e(Ae,{color:"arcoblue"},{default:a(()=>{var N;return[_(g((N=l(s))==null?void 0:N.data.system.architecture),1)]}),_:1})]}),_:1})]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.system.cores")},{default:a(()=>{var E;return[_(g((E=l(s))==null?void 0:E.data.system.cores),1)]}),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.system.memory.total")},{default:a(()=>{var E;return[_(g(l(Ue)(((E=l(s))==null?void 0:E.data.system.memory.total)??0)),1)]}),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.system.memory.free")},{default:a(()=>[e(re,{style:{display:"flex","align-items":"center"}},{default:a(()=>{var E,N,ce;return[e(ye,{content:`${Math.round((1-(((E=l(s))==null?void 0:E.data.system.memory.free)??0)/(((N=l(s))==null?void 0:N.data.system.memory.total)??1))*100)}% `+l(t)("page.settings.tab.info.system.memory.used")},{default:a(()=>[e(pt,{type:"circle",size:"mini",status:p.value,percent:u.value},null,8,["status","percent"])]),_:1},8,["content"]),_(" "+g(l(Ue)(((ce=l(s))==null?void 0:ce.data.system.memory.free)??0))+"   "+g(l(t)("page.settings.tab.info.system.memory.available")),1)]}),_:1})]),_:1},8,["label"]),(((T=l(s))==null?void 0:T.data.system.load)??0)>0?(k(),P(C,{key:0,label:l(t)("page.settings.tab.info.system.load")},{default:a(()=>{var E;return[_(g((E=l(s))==null?void 0:E.data.system.load.toFixed(2)),1)]}),_:1},8,["label"])):z("",!0)]}),_:1},8,["title"])]),_:1}),e(_e),e(te,{size:.5,disabled:""},{first:a(()=>[e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.network"),align:{label:"right"}},{default:a(()=>[e(C,{label:l(t)("page.settings.tab.info.network.internet")},{default:a(()=>v[7]||(v[7]=[_(" Unknown ")])),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.network.proxy")},{default:a(()=>{var T;return[_(g((T=l(s))!=null&&T.data.system.network.use_proxy?l(t)("page.settings.tab.info.network.yes"):l(t)("page.settings.tab.info.network.no")),1)]}),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.network.reverseProxy")},{default:a(()=>{var T;return[_(g((T=l(s))!=null&&T.data.system.network.reverse_proxy?l(t)("page.settings.tab.info.network.yes"):l(t)("page.settings.tab.info.network.no")),1)]}),_:1},8,["label"]),e(C,null,{label:a(()=>[_(g(l(t)("page.settings.tab.info.network.clientIP"))+" ",1),e(ye,{content:l(t)("page.settings.tab.info.network.clientIP.tips")},{default:a(()=>[e(Ee)]),_:1},8,["content"])]),default:a(()=>{var T;return[e(he,{code:"",copyable:""},{default:a(()=>{var E;return[_(g((E=l(s))==null?void 0:E.data.system.network.client_ip),1)]}),_:1}),x.value&&((T=l(s))!=null&&T.data.system.network.reverse_proxy)?(k(),P(ye,{key:0,content:l(t)("page.settings.tab.info.network.clientIP.warning")},{default:a(()=>[e(he,{type:"warning"},{default:a(()=>[e(Ht)]),_:1})]),_:1},8,["content"])):z("",!0)]}),_:1})]),_:1},8,["title"])]),second:a(()=>[e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.runtime"),align:{label:"right"}},{default:a(()=>[e(C,{label:l(t)("page.settings.tab.info.runtime.version")},{default:a(()=>[e(re,null,{default:a(()=>{var T,E;return[_(g((T=l(s))==null?void 0:T.data.jvm.version),1),e(Ae,{color:((E=l(s))==null?void 0:E.data.jvm.bitness)===64?"arcoblue":"orange"},{default:a(()=>{var N;return[_(g((N=l(s))==null?void 0:N.data.jvm.bitness)+"-Bit ",1)]}),_:1},8,["color"])]}),_:1})]),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.runtime.vendor")},{default:a(()=>{var T;return[_(g((T=l(s))==null?void 0:T.data.jvm.vendor),1)]}),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.runtime.runtime")},{default:a(()=>{var T;return[_(g((T=l(s))==null?void 0:T.data.jvm.runtime),1)]}),_:1},8,["label"]),e(C,{label:l(t)("page.settings.tab.info.runtime.heapMemory")},{default:a(()=>[e(vl,{required:5,"time-limit":3e3,onMultiClick:S},{default:a(()=>[e(re,{style:{display:"flex","align-items":"center",color:"var(--color-text-1)"}},{default:a(()=>{var T,E,N;return[e(ye,{content:`${Math.round((1-(((T=l(s))==null?void 0:T.data.jvm.memory.heap.free)??0)/(((E=l(s))==null?void 0:E.data.jvm.memory.heap.max)??1))*100)}% `+l(t)("page.settings.tab.info.system.memory.used")},{default:a(()=>[e(pt,{type:"circle",size:"mini",status:M.value,percent:f.value},null,8,["status","percent"])]),_:1},8,["content"]),_(" "+g(l(Ue)(((N=l(s))==null?void 0:N.data.jvm.memory.heap.free)??0))+"   "+g(l(t)("page.settings.tab.info.system.memory.available")),1)]}),_:1})]),_:1})]),_:1},8,["label"])]),_:1},8,["title"])]),_:1}),e(_e),e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.btn"),align:{label:"right"}},{default:a(()=>{var T,E,N,ce,Se;return[e(C,{label:l(t)("page.settings.tab.info.btn.module")},{default:a(()=>{var Z;return[r.value?(k(),P(B,{key:0,rows:1})):(k(),ne("div",Nl,[(Z=l(w))!=null&&Z.data?(k(),P(he,{key:1},{default:a(()=>[_(g(l(t)("page.settings.tab.info.btn.enable")),1)]),_:1})):(k(),P(he,{key:0},{default:a(()=>[_(g(l(t)("page.settings.tab.info.btn.disable")),1)]),_:1}))]))]}),_:1},8,["label"]),(T=l(w))!=null&&T.data?(k(),P(C,{key:0,label:l(t)("page.settings.tab.info.btn.status")},{default:a(()=>{var Z;return[U.value.value?(k(),P(B,{key:0,rows:1})):(k(),P(he,{key:1,type:(Z=l(I))!=null&&Z.data.configSuccess?"success":"warning"},{default:a(()=>{var We;return[_(g((We=l(I))!=null&&We.data.configSuccess?l(t)("page.settings.tab.info.btn.status.success"):l(t)("page.settings.tab.info.btn.status.fail")),1)]}),_:1},8,["type"]))]}),_:1},8,["label"])):z("",!0),(E=l(w))!=null&&E.data?(k(),P(C,{key:1,label:l(t)("page.settings.tab.info.btn.status.configUrl")},{default:a(()=>[U.value.value?(k(),P(B,{key:0,rows:1})):(k(),P(he,{key:1,code:"",copyable:""},{default:a(()=>{var Z;return[_(g((Z=l(I))==null?void 0:Z.data.configUrl),1)]}),_:1}))]),_:1},8,["label"])):z("",!0),(N=l(w))!=null&&N.data?(k(),P(C,{key:2,label:"App ID"},{default:a(()=>[U.value.value?(k(),P(B,{key:0,rows:1})):(k(),P(he,{key:1,code:"",copyable:""},{default:a(()=>{var Z;return[_(g((Z=l(I))==null?void 0:Z.data.appId),1)]}),_:1}))]),_:1})):z("",!0),(ce=l(w))!=null&&ce.data?(k(),P(C,{key:3,label:"App Secret"},{default:a(()=>{var Z;return[U.value.value?(k(),P(B,{key:0,rows:1})):(k(),ne("div",Hl,g((Z=l(I))==null?void 0:Z.data.appSecret),1))]}),_:1})):z("",!0),(Se=l(w))!=null&&Se.data?(k(),P(C,{key:4,label:l(t)("page.settings.tab.info.btn.abilities")},{default:a(()=>[U.value.value?(k(),P(B,{key:0,rows:1})):(k(),P(re,{key:1,size:"mini"},{default:a(()=>{var Z;return[_(g(l(t)("page.settings.tab.info.btn.abilities.enable",{number:((Z=l(I))==null?void 0:Z.data.abilities.length)??0}))+" ",1),e(dt,{shape:"circle",type:"text",onClick:v[2]||(v[2]=We=>{var mt,ft;return(ft=y.value)==null?void 0:ft.showModal(((mt=l(I))==null?void 0:mt.data.abilities)??[])})},{icon:a(()=>[e(ut)]),_:1})]}),_:1}))]),_:1},8,["label"])):z("",!0)]}),_:1},8,["title"])]),_:1})),e(zl,{ref_key:"btnAbilityList",ref:y},null,512),e(Gt,{visible:R.value,"onUpdate:visible":v[3]||(v[3]=T=>R.value=T),title:l(t)("page.settings.tab.info.log.title"),"unmount-on-close":"","hide-cancel":"","mask-closable":!1,width:"auto"},{default:a(()=>[e(l(n))]),_:1},8,["visible","title"])],64)}}}),Yl=Ie(Gl,[["__scopeId","data-v-acc4f897"]]);async function Fl(){const o=me();await o.serverAvailable;const n=new URL(ke(o.endpoint,"api/laboratory/experiments"),location.href);return fetch(n,{headers:xe()}).then(t=>(o.assertResponseLogin(t),t.json()))}async function Wl(o,n){const t=me();await t.serverAvailable;const i=new URL(ke(t.endpoint,`api/laboratory/experiment/${o}`),location.href);return fetch(i,{method:"PUT",headers:xe(),body:JSON.stringify({status:n})}).then(m=>(t.assertResponseLogin(m),m.json()))}const Xl={style:{width:"100%",display:"flex","justify-content":"center"}},Jl=["innerHTML"],Kl=D({__name:"index",setup(o){const{t:n}=q(),{data:t,loading:i,refresh:m}=Ve(Fl),r=new $t,s=async(d,u)=>{try{const f=await Wl(d,u);if(f.success)return m(),!0;throw new Error(f.message)}catch(f){return f instanceof Error&&le.error(f.message),!1}};return(d,u)=>{const f=se,p=Pe,M=Te("i18n-t"),b=tt,c=Q,w=j,I=it,$=Dt,U=Re,y=Le;return k(),P(w,{direction:"vertical",fill:""},{default:a(()=>{var x;return[e(f,{heading:3},{default:a(()=>[_(g(l(n)("page.settings.tab.labs")),1)]),_:1}),e(b,{title:l(n)("page.settings.tab.labs.welcome")},{default:a(()=>[e(M,{keypath:"page.settings.tab.labs.welcome.content"},{github:a(()=>[e(p,{href:"https://github.com/PBH-BTN/PeerBanHelper/issues"},{default:a(()=>u[0]||(u[0]=[_("Github")])),_:1})]),_:1})]),_:1},8,["title"]),e(f,{heading:5},{default:a(()=>[_(g(l(n)("page.settings.tab.labs.list")),1)]),_:1}),G("div",Xl,[e(y,{data:(x=l(t))==null?void 0:x.data.experiments,style:{"max-width":"60rem"},loading:l(i)},{item:a(({item:h})=>[e(U,{"action-layout":"vertical"},{actions:a(()=>[e(w,null,{default:a(()=>[_(g(l(n)("page.settings.tab.labs.action.enable"))+" ",1),e(c,{modelValue:h.activated,"onUpdate:modelValue":R=>h.activated=R,size:"small","before-change":R=>s(h.id,R)},null,8,["modelValue","onUpdate:modelValue","before-change"])]),_:2},1024)]),default:a(()=>[e($,null,{title:a(()=>[_(g(h.title)+"   ",1),h.activated?(k(),P(I,{key:0,color:"green"},{default:a(()=>[_(g(l(n)("page.settings.tab.labs.enabled")),1)]),_:1})):z("",!0)]),description:a(()=>[G("div",{innerHTML:l(r).render(h.description)},null,8,Jl)]),_:2},1024)]),_:2},1024)]),_:1},8,["data","loading"])])]}),_:1})}}}),Ql=D({__name:"activeMonitoring",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=q(),t=J(o,"modelValue"),i=O({get:()=>t.value.traffic_monitoring.daily!==-1,set:r=>{t.value.traffic_monitoring.daily=r?1024*1024*100:-1}}),m=O({get:()=>t.value.traffic_monitoring.daily/(1024*1024),set:r=>{r?t.value.traffic_monitoring.daily=r*1024*1024:t.value.traffic_monitoring.daily=0}});return(r,s)=>{const d=Q,u=de,f=Y,p=ie,M=j;return k(),P(M,{direction:"vertical",fill:""},{default:a(()=>[e(f,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},ae({default:a(()=>[e(d,{modelValue:t.value.enabled,"onUpdate:modelValue":s[0]||(s[0]=b=>t.value.enabled=b)},null,8,["modelValue"])]),_:2},[t.value.enabled?void 0:{name:"extra",fn:a(()=>[e(u,{type:"warning"},{default:a(()=>[_(g(l(n)("page.settings.tab.profile.module.activeMonitor.disable.tips")),1)]),_:1})]),key:"0"}]),1032,["label"]),t.value.enabled?(k(),P(f,{key:0,label:l(n)("page.settings.tab.profile.module.activeMonitor.dataRetentionTime"),tooltip:l(n)("page.settings.tab.profile.module.activeMonitor.dataRetentionTime.tips"),field:"model.data_retention_time"},{extra:a(()=>[_(" ="+g(l(oe)(t.value.data_retention_time)),1)]),default:a(()=>[e(p,{modelValue:t.value.data_retention_time,"onUpdate:modelValue":s[1]||(s[1]=b=>t.value.data_retention_time=b),style:{width:"200px"}},{suffix:a(()=>[_(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"])):z("",!0),t.value.enabled?(k(),P(f,{key:1,label:l(n)("page.settings.tab.profile.module.activeMonitor.dataCleanupInterval"),field:"model.data_cleanup_interval"},{extra:a(()=>[_(" ="+g(l(oe)(t.value.data_cleanup_interval)),1)]),default:a(()=>[e(p,{modelValue:t.value.data_cleanup_interval,"onUpdate:modelValue":s[2]||(s[2]=b=>t.value.data_cleanup_interval=b),style:{width:"200px"}},{suffix:a(()=>[_(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"])):z("",!0),t.value.enabled?(k(),P(f,{key:2,label:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.daily.enable"),tooltip:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.daily.tips"),field:"model.traffic_monitoring.daily"},{default:a(()=>[e(d,{modelValue:i.value,"onUpdate:modelValue":s[3]||(s[3]=b=>i.value=b)},null,8,["modelValue"])]),_:1},8,["label","tooltip"])):z("",!0),t.value.enabled&&i.value?(k(),P(f,{key:3,label:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.daily.value"),field:"model.traffic_monitoring.daily"},ae({default:a(()=>[e(p,{modelValue:m.value,"onUpdate:modelValue":s[4]||(s[4]=b=>m.value=b),style:{width:"200px"},precision:2},{suffix:a(()=>s[5]||(s[5]=[_(" MB ")])),_:1},8,["modelValue"])]),_:2},[t.value.traffic_monitoring.daily>1024**3?{name:"extra",fn:a(()=>[_(" ="+g(l(Ue)(t.value.traffic_monitoring.daily)),1)]),key:"0"}:void 0]),1032,["label"])):z("",!0)]),_:1})}}}),Zl=D({__name:"autoRangeBan",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=q(),t=J(o,"modelValue"),i=O({get:()=>t.value.ban_duration==="default",set:m=>{t.value.ban_duration=m?"default":2592e5}});return(m,r)=>{const s=Q,d=Y,u=ie,f=j;return k(),P(f,{direction:"vertical",fill:""},{default:a(()=>[e(d,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled",tooltip:l(n)("page.settings.tab.profile.module.autoRangeBan.tips")},{default:a(()=>[e(s,{modelValue:t.value.enabled,"onUpdate:modelValue":r[0]||(r[0]=p=>t.value.enabled=p)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e(d,{label:l(n)("page.settings.tab.profile.module.autoRangeBan.useGlobalBanTime"),field:"model.ban_duration"},ae({default:a(()=>[e(f,null,{default:a(()=>[e(s,{modelValue:i.value,"onUpdate:modelValue":r[1]||(r[1]=p=>i.value=p)},null,8,["modelValue"]),i.value?z("",!0):(k(),P(u,{key:0,modelValue:t.value.ban_duration,"onUpdate:modelValue":r[2]||(r[2]=p=>t.value.ban_duration=p),modelModifiers:{number:!0},min:1},{suffix:a(()=>[_(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[t.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[_(" ="+g(l(oe)(t.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),e(d,{label:l(n)("page.settings.tab.profile.module.autoRangeBan.ipv4Prefix"),field:"model.ipv4"},{default:a(()=>[e(u,{modelValue:t.value.ipv4,"onUpdate:modelValue":r[3]||(r[3]=p=>t.value.ipv4=p),style:{width:"100px"},min:0,max:32},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{label:l(n)("page.settings.tab.profile.module.autoRangeBan.ipv6Prefix"),field:"model.ipv6"},{default:a(()=>[e(u,{modelValue:t.value.ipv6,"onUpdate:modelValue":r[4]||(r[4]=p=>t.value.ipv6=p),style:{width:"100px"},min:0,max:128},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})}}}),en=D({__name:"btn",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=q(),t=J(o,"modelValue"),i=O({get:()=>t.value.ban_duration==="default",set:m=>{t.value.ban_duration=m?"default":2592e5}});return(m,r)=>{const s=Q,d=Y,u=ie,f=j;return k(),P(f,{direction:"vertical",fill:""},{default:a(()=>[e(d,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[e(s,{modelValue:t.value.enabled,"onUpdate:modelValue":r[0]||(r[0]=p=>t.value.enabled=p)},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{label:l(n)("page.settings.tab.profile.module.peerIdBlackList.useGlobalBanTime"),field:"model.ban_duration"},ae({default:a(()=>[e(f,null,{default:a(()=>[e(s,{modelValue:i.value,"onUpdate:modelValue":r[1]||(r[1]=p=>i.value=p)},null,8,["modelValue"]),i.value?z("",!0):(k(),P(u,{key:0,modelValue:t.value.ban_duration,"onUpdate:modelValue":r[2]||(r[2]=p=>t.value.ban_duration=p),modelModifiers:{number:!0},min:1},{suffix:a(()=>[_(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[t.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[_(" ="+g(l(oe)(t.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"])]),_:1})}}}),zt=D({__name:"banRuleListItem",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=q(),t=["STARTS_WITH","ENDS_WITH","LENGTH","CONTAINS","EQUALS","REGEX"],i=["TRUE","FALSE","DEFAULT"],m=J(o,"modelValue");return(r,s)=>{const d=Ia,u=Ge,f=j,p=Pa,M=$a,b=we;return k(),P(f,null,{default:a(()=>[_(g(l(n)("page.settings.tab.profile.module.peerIdBlackList.if"))+" ",1),e(M,{modelValue:m.value.method,"onUpdate:modelValue":s[0]||(s[0]=c=>m.value.method=c),style:{width:"150px"},placeholder:l(n)("page.settings.tab.profile.module.peerIdBlackList.rule")},{default:a(()=>[(k(),ne(ve,null,Be(t,c=>e(p,{key:c,value:c},{default:a(()=>[e(f,null,{default:a(()=>[_(g(c),1),e(u,{content:l(n)("page.settings.tab.profile.module.banRuleTips."+c)},{default:a(()=>[e(d)]),_:2},1032,["content"])]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue","placeholder"]),e(b,{modelValue:m.value.content,"onUpdate:modelValue":s[1]||(s[1]=c=>m.value.content=c),placeholder:"PeerID"},null,8,["modelValue"]),_(" "+g(l(n)("page.settings.tab.profile.module.peerIdBlackList.hit"))+" ",1),e(M,{modelValue:m.value.hit,"onUpdate:modelValue":s[2]||(s[2]=c=>m.value.hit=c),style:{width:"100px"}},{default:a(()=>[(k(),ne(ve,null,Be(i,c=>e(p,{key:c,value:c},{default:a(()=>[_(g(l(n)("page.settings.tab.profile.module.banRuleTips."+c)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),_(" "+g(l(n)("page.settings.tab.profile.module.peerIdBlackList.miss"))+" ",1),e(M,{modelValue:m.value.miss,"onUpdate:modelValue":s[3]||(s[3]=c=>m.value.miss=c),style:{width:"100px"}},{default:a(()=>[(k(),ne(ve,null,Be(i,c=>e(p,{key:c,value:c},{default:a(()=>[_(g(l(n)("page.settings.tab.profile.module.banRuleTips."+c)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1})}}}),tn=D({__name:"clientNameBlackList",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=q(),t=J(o,"modelValue"),i=O({get:()=>t.value.ban_duration==="default",set:s=>{t.value.ban_duration=s?"default":2592e5}}),m=O(()=>t.value.banned_client_name.map((s,d)=>({...s,index:d}))),r=(s,d)=>{t.value.banned_client_name.some(u=>u.content==="")?d(n("page.settings.tab.profile.module.banRuleTips.empty")):d()};return(s,d)=>{const u=Q,f=Y,p=ie,M=j,b=st,c=fe,w=Ye,I=Re,$=Le;return k(),P(M,{direction:"vertical",fill:""},{default:a(()=>[e(f,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[e(u,{modelValue:t.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=U=>t.value.enabled=U)},null,8,["modelValue"])]),_:1},8,["label"]),e(f,{label:l(n)("page.settings.tab.profile.module.clientNameBlackList.useGlobalBanTime"),field:"model.ban_duration"},ae({default:a(()=>[e(M,null,{default:a(()=>[e(u,{modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=U=>i.value=U)},null,8,["modelValue"]),i.value?z("",!0):(k(),P(p,{key:0,modelValue:t.value.ban_duration,"onUpdate:modelValue":d[2]||(d[2]=U=>t.value.ban_duration=U),modelModifiers:{number:!0},min:1},{suffix:a(()=>[_(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[t.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[_(" ="+g(l(oe)(t.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),e(f,{label:l(n)("page.settings.tab.profile.module.clientNameBlackList.banClientName"),field:"model.banned_client_name",rules:[{validator:r}]},{default:a(()=>[e(M,{direction:"vertical"},{default:a(()=>[e(c,{onClick:d[3]||(d[3]=U=>t.value.banned_client_name.push({method:"STARTS_WITH",content:""}))},{icon:a(()=>[e(b)]),_:1}),e($,{style:{"min-width":"800px"},"pagination-props":{pageSize:5,total:t.value.banned_client_name.length},data:m.value},{item:a(({item:U})=>[e(I,{style:{"min-width":"250px"}},{actions:a(()=>[e(c,{class:"edit-btn",status:"danger",shape:"circle",type:"text",onClick:y=>t.value.banned_client_name.splice(U.index,1)},{icon:a(()=>[e(w)]),_:2},1032,["onClick"])]),default:a(()=>[e(M,null,{default:a(()=>[e(zt,{modelValue:t.value.banned_client_name[U.index],"onUpdate:modelValue":y=>t.value.banned_client_name[U.index]=y},null,8,["modelValue","onUpdate:modelValue"]),d[4]||(d[4]=G("br",null,null,-1))]),_:2},1024)]),_:2},1024)]),_:1},8,["pagination-props","data"])]),_:1})]),_:1},8,["label","rules"])]),_:1})}}}),an=D({__name:"expressionEngine",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=q(),t=J(o,"modelValue"),i=O({get:()=>t.value.ban_duration==="default",set:m=>{t.value.ban_duration=m?"default":2592e5}});return(m,r)=>{const s=Q,d=Y,u=ie,f=j;return k(),P(f,{direction:"vertical",fill:""},{default:a(()=>[e(d,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled",tooltip:l(n)("page.settings.tab.profile.module.expressionEngine.tips")},{default:a(()=>[e(s,{modelValue:t.value.enabled,"onUpdate:modelValue":r[0]||(r[0]=p=>t.value.enabled=p)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e(d,{label:l(n)("page.settings.tab.profile.module.expressionEngine.useGlobalBanTime"),field:"model.ban_duration"},ae({default:a(()=>[e(f,null,{default:a(()=>[e(s,{modelValue:i.value,"onUpdate:modelValue":r[1]||(r[1]=p=>i.value=p)},null,8,["modelValue"]),i.value?z("",!0):(k(),P(u,{key:0,modelValue:t.value.ban_duration,"onUpdate:modelValue":r[2]||(r[2]=p=>t.value.ban_duration=p),modelModifiers:{number:!0},min:1},{suffix:a(()=>[_(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[t.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[_(" ="+g(l(oe)(t.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"])]),_:1})}}}),ln=D({__name:"formArray",props:Zt({label:{},required:{type:Boolean},tooltip:{},virtualListProps:{},paginationProps:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(o){const{t:n}=q(),t=J(o,"modelValue"),i=o,m=O(()=>t.value.map((d,u)=>({item:d,index:u}))),r=(d,u)=>{t.value.some(f=>f.trim()==="")?u(n("page.settings.tab.profile.formArray.emptyTips")):u()},s=K(!1);return(d,u)=>{const f=fe,p=st,M=we,b=j,c=Ye,w=Re,I=Le,$=Sa,U=Y;return k(),P(U,{label:i.label,required:i.required,field:"model","show-header":!1,tooltip:i.tooltip,rules:[{validator:r}]},{default:a(()=>[e(f,{type:"primary",onClick:u[0]||(u[0]=y=>s.value=!0)},{default:a(()=>[_(g(l(n)("page.settings.tab.profile.form.ignoreAddress.action")),1)]),_:1}),e($,{visible:s.value,"hide-cancel":"",title:i.label,"mask-closable":"",onOk:u[2]||(u[2]=y=>s.value=!1),onCancel:u[3]||(u[3]=y=>s.value=!1)},{default:a(()=>[e(b,{direction:"vertical"},{default:a(()=>[e(f,{onClick:u[1]||(u[1]=y=>t.value.push(""))},{icon:a(()=>[e(p)]),_:1}),e(I,{style:{"min-width":"200px"},"virtual-list-props":i.virtualListProps,data:m.value,"pagination-props":i.paginationProps},{item:a(({item:y})=>[(k(),P(w,{key:y.index},{actions:a(()=>[e(f,{class:"edit-btn",status:"danger",shape:"circle",type:"text",onClick:x=>t.value.splice(y.index,1)},{icon:a(()=>[e(c)]),_:2},1032,["onClick"])]),default:a(()=>[e(b,null,{default:a(()=>[e(M,{modelValue:t.value[y.index],"onUpdate:modelValue":x=>t.value[y.index]=x},null,8,["modelValue","onUpdate:modelValue"]),u[4]||(u[4]=G("br",null,null,-1))]),_:2},1024)]),_:2},1024))]),_:1},8,["virtual-list-props","data","pagination-props"])]),_:1})]),_:1},8,["visible","title"])]),_:1},8,["label","required","tooltip","rules"])}}}),nn=Ie(ln,[["__scopeId","data-v-8b6be55f"]]),on=D({__name:"ipAddressBlocker",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const[n,t,i]=It(),{t:m}=q(),r=J(o,"modelValue"),s=O({get:()=>r.value.ban_duration==="default",set:d=>{r.value.ban_duration=d?"default":2592e5}});return(d,u)=>{const f=Q,p=Y,M=ie,b=j,c=Pe,w=Te("i18n-t"),I=de;return k(),P(b,{direction:"vertical",fill:""},{default:a(()=>[e(p,{label:l(m)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[e(f,{modelValue:r.value.enabled,"onUpdate:modelValue":u[0]||(u[0]=$=>r.value.enabled=$)},null,8,["modelValue"])]),_:1},8,["label"]),e(p,{label:l(m)("page.settings.tab.profile.module.ipAddressBlocker.useGlobalBanTime"),field:"model.ban_duration"},ae({default:a(()=>[e(b,null,{default:a(()=>[e(f,{modelValue:s.value,"onUpdate:modelValue":u[1]||(u[1]=$=>s.value=$)},null,8,["modelValue"]),s.value?z("",!0):(k(),P(M,{key:0,modelValue:r.value.ban_duration,"onUpdate:modelValue":u[2]||(u[2]=$=>r.value.ban_duration=$),modelModifiers:{number:!0},min:1},{suffix:a(()=>[_(g(l(m)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[r.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[_(" ="+g(l(oe)(r.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),e(I,null,{default:a(()=>[e(w,{keypath:"page.settings.tab.profile.module.ipAddressBlocker.rules"},{link:a(()=>[e(c,{onClick:u[3]||(u[3]=$=>l(i)("rule_management_ip"))},{default:a(()=>[_(g(l(m)("page.settings.tab.profile.module.ipAddressBlocker.rules.link")),1)]),_:1})]),_:1})]),_:1})]),_:1})}}}),sn=D({__name:"multiDialingBlocker",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=q(),t=J(o,"modelValue"),i=O({get:()=>t.value.ban_duration==="default",set:m=>{t.value.ban_duration=m?"default":2592e5}});return(m,r)=>{const s=Q,d=Y,u=ie,f=j;return k(),P(f,{direction:"vertical",fill:""},{default:a(()=>[e(d,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[e(s,{modelValue:t.value.enabled,"onUpdate:modelValue":r[0]||(r[0]=p=>t.value.enabled=p)},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.useGlobalBanTime"),field:"model.ban_duration"},ae({default:a(()=>[e(f,null,{default:a(()=>[e(s,{modelValue:i.value,"onUpdate:modelValue":r[1]||(r[1]=p=>i.value=p)},null,8,["modelValue"]),i.value?z("",!0):(k(),P(u,{key:0,modelValue:t.value.ban_duration,"onUpdate:modelValue":r[2]||(r[2]=p=>t.value.ban_duration=p),modelModifiers:{number:!0},min:1},{suffix:a(()=>[_(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[t.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[_(" ="+g(l(oe)(t.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),e(d,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.subnet-mask-length"),field:"model.subnet_mask_length"},{default:a(()=>[e(u,{modelValue:t.value.subnet_mask_length,"onUpdate:modelValue":r[3]||(r[3]=p=>t.value.subnet_mask_length=p),style:{width:"100px"},min:0,max:32},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.subnet-mask-v6-length"),field:"model.subnet_mask_v6_length"},{default:a(()=>[e(u,{modelValue:t.value.subnet_mask_v6_length,"onUpdate:modelValue":r[4]||(r[4]=p=>t.value.subnet_mask_v6_length=p),style:{width:"100px"},min:0,max:128},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.tolerate-num",{version:"IPv4"}),tooltip:l(n)("page.settings.tab.profile.module.multiDialingBlocker.tolerate-num.tips"),field:"model.tolerate_num"},{default:a(()=>[e(u,{modelValue:t.value.tolerate_num_ipv4,"onUpdate:modelValue":r[5]||(r[5]=p=>t.value.tolerate_num_ipv4=p),style:{width:"100px"},min:0,step:1},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e(d,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.tolerate-num",{version:"IPv6"}),tooltip:l(n)("page.settings.tab.profile.module.multiDialingBlocker.tolerate-num.tips"),field:"model.tolerate_num"},{default:a(()=>[e(u,{modelValue:t.value.tolerate_num_ipv6,"onUpdate:modelValue":r[6]||(r[6]=p=>t.value.tolerate_num_ipv6=p),style:{width:"100px"},min:0,step:1},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e(d,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.timeWindow"),field:"model.cache_lifespan"},{extra:a(()=>[_(" ="+g(l(ct)(t.value.cache_lifespan)),1)]),default:a(()=>[e(u,{modelValue:t.value.cache_lifespan,"onUpdate:modelValue":r[7]||(r[7]=p=>t.value.cache_lifespan=p),style:{width:"100px"},min:0},{suffix:a(()=>[_(g(l(n)("page.settings.tab.profile.unit.s")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(d,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.keep-hunting"),tooltip:l(n)("page.settings.tab.profile.module.multiDialingBlocker.keep-hunting.tips"),field:"model.keep_hunting"},{default:a(()=>[e(s,{modelValue:t.value.keep_hunting,"onUpdate:modelValue":r[8]||(r[8]=p=>t.value.keep_hunting=p)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t.value.keep_hunting?(k(),P(d,{key:0,label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.keep-hunting-time"),field:"model.keep_hunting_time"},{extra:a(()=>[_(" ="+g(l(ct)(t.value.keep_hunting_time)),1)]),default:a(()=>[e(u,{modelValue:t.value.keep_hunting_time,"onUpdate:modelValue":r[9]||(r[9]=p=>t.value.keep_hunting_time=p),min:0,style:{width:"150px"}},{suffix:a(()=>[_(g(l(n)("page.settings.tab.profile.unit.s")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"])):z("",!0)]),_:1})}}}),rn=D({__name:"peerIdBlackList",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=q(),t=J(o,"modelValue"),i=O(()=>t.value.banned_peer_id.map((s,d)=>({...s,index:d}))),m=O({get:()=>t.value.ban_duration==="default",set:s=>{t.value.ban_duration=s?"default":2592e5}}),r=(s,d)=>{t.value.banned_peer_id.some(u=>u.content==="")?d(n("page.settings.tab.profile.module.banRuleTips.empty")):d()};return(s,d)=>{const u=Q,f=Y,p=ie,M=j,b=st,c=fe,w=Ye,I=Re,$=Le;return k(),P(M,{direction:"vertical",fill:""},{default:a(()=>[e(f,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[e(u,{modelValue:t.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=U=>t.value.enabled=U)},null,8,["modelValue"])]),_:1},8,["label"]),e(f,{label:l(n)("page.settings.tab.profile.module.peerIdBlackList.useGlobalBanTime"),field:"model.ban_duration"},ae({default:a(()=>[e(M,null,{default:a(()=>[e(u,{modelValue:m.value,"onUpdate:modelValue":d[1]||(d[1]=U=>m.value=U)},null,8,["modelValue"]),m.value?z("",!0):(k(),P(p,{key:0,modelValue:t.value.ban_duration,"onUpdate:modelValue":d[2]||(d[2]=U=>t.value.ban_duration=U),modelModifiers:{number:!0},min:1},{suffix:a(()=>[_(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[t.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[_(" ="+g(l(oe)(t.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),e(f,{label:l(n)("page.settings.tab.profile.module.peerIdBlackList.banPeerId"),field:"model.banned_peer_id",rules:[{validator:r}]},{default:a(()=>[e(M,{direction:"vertical"},{default:a(()=>[e(c,{onClick:d[3]||(d[3]=U=>t.value.banned_peer_id.push({method:"STARTS_WITH",content:""}))},{icon:a(()=>[e(b)]),_:1}),e($,{ref:"list",style:{"min-width":"800px"},"pagination-props":{pageSize:5,total:t.value.banned_peer_id.length},data:i.value},{item:a(({item:U})=>[e(I,null,{actions:a(()=>[e(c,{class:"edit-btn",status:"danger",shape:"circle",type:"text",onClick:y=>t.value.banned_peer_id.splice(U.index,1)},{icon:a(()=>[e(w)]),_:2},1032,["onClick"])]),default:a(()=>[e(M,null,{default:a(()=>[e(zt,{modelValue:t.value.banned_peer_id[U.index],"onUpdate:modelValue":y=>t.value.banned_peer_id[U.index]=y},null,8,["modelValue","onUpdate:modelValue"]),d[4]||(d[4]=G("br",null,null,-1))]),_:2},1024)]),_:2},1024)]),_:1},8,["pagination-props","data"])]),_:1})]),_:1},8,["label","rules"])]),_:1})}}}),un=D({__name:"progressCheatBlocker",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const{t:n}=q(),t=J(o,"modelValue"),i=O({get:()=>t.value.ban_duration==="default",set:f=>{t.value.ban_duration=f?"default":2592e5}}),m=O({get:()=>t.value.fast_pcb_test_percentage!==-1,set:f=>{t.value.fast_pcb_test_percentage=f?10:-1}}),r=O({get:()=>t.value.rewind_maximum_difference!==-1,set:f=>{t.value.rewind_maximum_difference=f?7:-1}}),s=O({get:()=>Math.round(t.value.maximum_difference*100),set:f=>{t.value.maximum_difference=f/100}}),d=O({get:()=>Math.round(t.value.rewind_maximum_difference*100),set:f=>{t.value.rewind_maximum_difference=f/100}}),u=O({get:()=>Math.round(t.value.fast_pcb_test_percentage*100),set:f=>{t.value.fast_pcb_test_percentage=f/100}});return(f,p)=>{const M=tt,b=Q,c=Y,w=ie,I=Ca,$=j,U=de;return k(),P($,{direction:"vertical",fill:""},{default:a(()=>[e(M,null,{default:a(()=>[_(g(l(n)("page.settings.tab.profile.module.progressCheatBlocker.tips")),1)]),_:1}),e(c,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[e(b,{modelValue:t.value.enabled,"onUpdate:modelValue":p[0]||(p[0]=y=>t.value.enabled=y)},null,8,["modelValue"])]),_:1},8,["label"]),e(c,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.minSize"),field:"model.minimum_size",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.minSize.tips")},{extra:a(()=>[_(" ≈ "+g(l(Ue)(t.value.minimum_size)),1)]),default:a(()=>[e(w,{modelValue:t.value.minimum_size,"onUpdate:modelValue":p[1]||(p[1]=y=>t.value.minimum_size=y),style:{width:"200px"}},{suffix:a(()=>p[16]||(p[16]=[_(" Bytes ")])),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"]),e(c,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.maxDifference"),field:"model.maximum_difference",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.maxDifference.tips")},{default:a(()=>[e($,null,{default:a(()=>[e(I,{modelValue:s.value,"onUpdate:modelValue":p[2]||(p[2]=y=>s.value=y),style:{width:"250px"},step:1,min:0,max:100,"format-tooltip":y=>`${y}%`},null,8,["modelValue","format-tooltip"]),p[17]||(p[17]=G("br",null,null,-1)),_(g(s.value)+"% ",1)]),_:1})]),_:1},8,["label","tooltip"]),e(c,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.progressRewindDetection")},{default:a(()=>[e(b,{modelValue:r.value,"onUpdate:modelValue":p[3]||(p[3]=y=>r.value=y)},null,8,["modelValue"])]),_:1},8,["label"]),t.value.rewind_maximum_difference!==-1?(k(),P(c,{key:0,label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.rewindMaxDifference"),field:"model.rewind_maximum_difference",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.rewindMaxDifference.tips")},{default:a(()=>[e($,null,{default:a(()=>[e(I,{modelValue:d.value,"onUpdate:modelValue":p[4]||(p[4]=y=>d.value=y),style:{width:"250px"},step:1,min:0,max:100,"format-tooltip":y=>`${y}%`},null,8,["modelValue","format-tooltip"]),p[18]||(p[18]=G("br",null,null,-1)),_(g(d.value)+"% ",1)]),_:1})]),_:1},8,["label","tooltip"])):z("",!0),e(c,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.block_excessive_clients"),field:"model.block_excessive_clients",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.block_excessive_clients.tips")},{default:a(()=>[e(b,{modelValue:t.value.block_excessive_clients,"onUpdate:modelValue":p[5]||(p[5]=y=>t.value.block_excessive_clients=y)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e(c,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.excessive_threshold"),field:"model.excessive_threshold",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.excessive_threshold.tips")},{default:a(()=>[e(w,{modelValue:t.value.excessive_threshold,"onUpdate:modelValue":p[6]||(p[6]=y=>t.value.excessive_threshold=y),style:{width:"100px"}},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e(c,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.ipv4prefixlength"),field:"model.ipv4_prefix_length",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.ipprefixLength.tips")},{default:a(()=>[e(w,{modelValue:t.value.ipv4_prefix_length,"onUpdate:modelValue":p[7]||(p[7]=y=>t.value.ipv4_prefix_length=y),style:{width:"100px"},min:0,max:32},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e(c,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.ipv6prefixlength"),field:"model.ipv6_prefix_length",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.ipprefixLength.tips")},{default:a(()=>[e(w,{modelValue:t.value.ipv6_prefix_length,"onUpdate:modelValue":p[8]||(p[8]=y=>t.value.ipv6_prefix_length=y),style:{width:"100px"},min:0,max:128},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e(c,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.banDuration"),field:"model.ban_duration"},ae({default:a(()=>[e($,null,{default:a(()=>[e(b,{modelValue:i.value,"onUpdate:modelValue":p[9]||(p[9]=y=>i.value=y)},null,8,["modelValue"]),i.value?z("",!0):(k(),P(w,{key:0,modelValue:t.value.ban_duration,"onUpdate:modelValue":p[10]||(p[10]=y=>t.value.ban_duration=y),modelModifiers:{number:!0},min:1},{suffix:a(()=>[_(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[t.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[_(" ="+g(l(oe)(t.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),e(c,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.enablePersist"),field:"model.enable_persist"},ae({default:a(()=>[e(b,{modelValue:t.value.enable_persist,"onUpdate:modelValue":p[11]||(p[11]=y=>t.value.enable_persist=y)},null,8,["modelValue"])]),_:2},[t.value.enable_persist?{name:"extra",fn:a(()=>[e(U,{type:"danger"},{default:a(()=>[_(g(l(n)("page.settings.tab.profile.module.progressCheatBlocker.enablePersist.tips")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"]),t.value.enable_persist?(k(),P(c,{key:1,label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.persistDuration"),field:"model.persist_duration"},{extra:a(()=>[_(" ="+g(l(oe)(t.value.persist_duration)),1)]),default:a(()=>[e(w,{modelValue:t.value.persist_duration,"onUpdate:modelValue":p[12]||(p[12]=y=>t.value.persist_duration=y),style:{width:"200px"}},{suffix:a(()=>[_(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"])):z("",!0),e(c,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.maxWaitDuration"),tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.maxWaitDuration.tips"),field:"model.max_wait_duration"},{extra:a(()=>[_(" ="+g(l(oe)(t.value.max_wait_duration)),1)]),default:a(()=>[e(w,{modelValue:t.value.max_wait_duration,"onUpdate:modelValue":p[13]||(p[13]=y=>t.value.max_wait_duration=y),style:{width:"200px"}},{suffix:a(()=>[_(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"]),e(c,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.enableFastPCBTest"),tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.enableFastPCBTest.tips")},{default:a(()=>[e(b,{modelValue:m.value,"onUpdate:modelValue":p[14]||(p[14]=y=>m.value=y)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t.value.fast_pcb_test_percentage!==-1?(k(),P(c,{key:2,label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.fastPCBTestPercentage"),field:"model.fast_pcb_test_percentage"},{default:a(()=>[e($,null,{default:a(()=>[e(I,{modelValue:u.value,"onUpdate:modelValue":p[15]||(p[15]=y=>u.value=y),style:{width:"250px"},step:1,min:0,max:100,"format-tooltip":y=>`${y}%`},null,8,["modelValue","format-tooltip"]),p[19]||(p[19]=G("br",null,null,-1)),_(g(u.value)+"% ",1)]),_:1})]),_:1},8,["label"])):z("",!0)]),_:1})}}}),dn=D({__name:"ruleSubscribe",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const[n,t,i]=It(),{t:m}=q(),r=J(o,"modelValue"),s=O({get:()=>r.value.ban_duration==="default",set:d=>{r.value.ban_duration=d?"default":2592e5}});return(d,u)=>{const f=Q,p=Y,M=ie,b=j,c=Pe,w=Te("i18n-t"),I=de;return k(),P(b,{direction:"vertical",fill:""},{default:a(()=>[e(p,{label:l(m)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[e(f,{modelValue:r.value.enabled,"onUpdate:modelValue":u[0]||(u[0]=$=>r.value.enabled=$)},null,8,["modelValue"])]),_:1},8,["label"]),e(p,{label:l(m)("page.settings.tab.profile.module.ruleSubscribe.useGlobalBanTime"),field:"model.ban_duration"},ae({default:a(()=>[e(b,null,{default:a(()=>[e(f,{modelValue:s.value,"onUpdate:modelValue":u[1]||(u[1]=$=>s.value=$)},null,8,["modelValue"]),s.value?z("",!0):(k(),P(M,{key:0,modelValue:r.value.ban_duration,"onUpdate:modelValue":u[2]||(u[2]=$=>r.value.ban_duration=$),modelModifiers:{number:!0},min:1},{suffix:a(()=>[_(g(l(m)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[r.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[_(" ="+g(l(oe)(r.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),e(I,null,{default:a(()=>[e(w,{keypath:"page.settings.tab.profile.module.ruleSubscribe.subscribe"},{link:a(()=>[e(c,{onClick:u[3]||(u[3]=$=>l(i)("rule_management_subscribe"))},{default:a(()=>[_(g(l(m)("page.settings.tab.profile.module.ruleSubscribe.subscribe.link")),1)]),_:1})]),_:1})]),_:1})]),_:1})}}}),pn={id:"top",style:{position:"relative"}},mn=D({__name:"index",setup(o){const{t:n}=q(),t=Ct({config_version:0,check_interval:0,ban_duration:0,ignore_peers_from_addresses:[],module:{peer_id_blacklist:{},client_name_blacklist:{},progress_cheat_blocker:{},ip_address_blocker:{},auto_range_ban:{},btn:{},multi_dialing_blocker:{},expression_engine:{},ip_address_blocker_rules:{},active_monitoring:{traffic_monitoring:{}}}}),{loading:i}=Ve(sa,{onSuccess:s=>{Object.assign(t,s.data)}}),m=K(!1),r=async()=>{m.value=!0;try{const s=await ra(t);s.success?le.success(s.message):le.error(s.message)}catch(s){le.error(s.message)}finally{m.value=!1}};return(s,d)=>{const u=se,f=ie,p=Y,M=j,b=ot,c=Ma,w=Ua,I=Ot,$=fe,U=nt,y=At,x=Ba;return k(),ne(ve,null,[e(y,{style:{width:"100%"},loading:l(i),dot:""},{default:a(()=>[G("div",pn,[e(U,{model:t},{default:a(()=>[e(M,{direction:"vertical",fill:""},{default:a(()=>[e(M,{direction:"vertical",fill:"",style:{width:"100%"}},{default:a(()=>[e(u,{heading:3},{default:a(()=>[_(g(l(n)("page.settings.tab.profile.base.title")),1)]),_:1}),e(p,{label:l(n)("page.settings.tab.profile.form.checkInterval"),field:"check_interval",required:""},{default:a(()=>[e(f,{modelValue:t.check_interval,"onUpdate:modelValue":d[0]||(d[0]=h=>t.check_interval=h),style:{width:"200px"}},{suffix:a(()=>[_(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(p,{label:l(n)("page.settings.tab.profile.form.banDuration"),field:"ban_duration",required:""},{extra:a(()=>[_(" ="+g(l(oe)(t.ban_duration)),1)]),default:a(()=>[e(f,{modelValue:t.ban_duration,"onUpdate:modelValue":d[1]||(d[1]=h=>t.ban_duration=h),style:{width:"200px"}},{suffix:a(()=>[_(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(nn,{modelValue:t.ignore_peers_from_addresses,"onUpdate:modelValue":d[2]||(d[2]=h=>t.ignore_peers_from_addresses=h),label:l(n)("page.settings.tab.profile.form.ignoreAddress"),tooltip:l(n)("page.settings.tab.profile.form.ignoreAddress.tooltip"),"pagination-props":{pageSize:10,total:t.ignore_peers_from_addresses.length}},null,8,["modelValue","label","tooltip","pagination-props"])]),_:1}),e(b),t.module?(k(),P(M,{key:0,direction:"vertical",fill:"",style:{width:"90%"}},{default:a(()=>[e(u,{id:"module",heading:3},{default:a(()=>[_(g(l(n)("page.settings.tab.profile.module.title")),1)]),_:1}),e(w,{"destroy-on-hide":""},{default:a(()=>[e(c,{key:"1",header:l(n)("page.settings.tab.profile.module.peerIdBlackList")},{default:a(()=>[e(rn,{modelValue:t.module.peer_id_blacklist,"onUpdate:modelValue":d[3]||(d[3]=h=>t.module.peer_id_blacklist=h)},null,8,["modelValue"])]),_:1},8,["header"]),e(c,{key:"2",header:l(n)("page.settings.tab.profile.module.clientNameBlackList")},{default:a(()=>[e(tn,{modelValue:t.module.client_name_blacklist,"onUpdate:modelValue":d[4]||(d[4]=h=>t.module.client_name_blacklist=h)},null,8,["modelValue"])]),_:1},8,["header"]),e(c,{key:"3",header:l(n)("page.settings.tab.profile.module.progressCheatBlocker")},{default:a(()=>[e(un,{modelValue:t.module.progress_cheat_blocker,"onUpdate:modelValue":d[5]||(d[5]=h=>t.module.progress_cheat_blocker=h)},null,8,["modelValue"])]),_:1},8,["header"]),e(c,{key:"4",header:l(n)("page.settings.tab.profile.module.ipAddressBlocker.title")},{default:a(()=>[e(on,{modelValue:t.module.ip_address_blocker,"onUpdate:modelValue":d[6]||(d[6]=h=>t.module.ip_address_blocker=h)},null,8,["modelValue"])]),_:1},8,["header"]),e(c,{key:"5",header:l(n)("page.settings.tab.profile.module.autoRangeBan.title")},{default:a(()=>[e(Zl,{modelValue:t.module.auto_range_ban,"onUpdate:modelValue":d[7]||(d[7]=h=>t.module.auto_range_ban=h)},null,8,["modelValue"])]),_:1},8,["header"]),e(c,{key:"6",header:"BTN"},{default:a(()=>[e(en,{modelValue:t.module.btn,"onUpdate:modelValue":d[8]||(d[8]=h=>t.module.btn=h)},null,8,["modelValue"])]),_:1}),e(c,{key:"7",header:l(n)("page.settings.tab.profile.module.multiDialingBlocker.title")},{default:a(()=>[e(sn,{modelValue:t.module.multi_dialing_blocker,"onUpdate:modelValue":d[9]||(d[9]=h=>t.module.multi_dialing_blocker=h)},null,8,["modelValue"])]),_:1},8,["header"]),e(c,{key:"8",header:l(n)("page.settings.tab.profile.module.expressionEngine.title")},{default:a(()=>[e(an,{modelValue:t.module.expression_engine,"onUpdate:modelValue":d[10]||(d[10]=h=>t.module.expression_engine=h)},null,8,["modelValue"])]),_:1},8,["header"]),e(c,{key:"9",header:l(n)("page.settings.tab.profile.module.ruleSubscribe.title")},{default:a(()=>[e(dn,{modelValue:t.module.ip_address_blocker_rules,"onUpdate:modelValue":d[11]||(d[11]=h=>t.module.ip_address_blocker_rules=h)},null,8,["modelValue"])]),_:1},8,["header"]),e(c,{key:"10",header:l(n)("page.settings.tab.profile.module.activeMonitor.title")},{default:a(()=>[e(Ql,{modelValue:t.module.active_monitoring,"onUpdate:modelValue":d[12]||(d[12]=h=>t.module.active_monitoring=h)},null,8,["modelValue"])]),_:1},8,["header"])]),_:1})]),_:1})):z("",!0),d[14]||(d[14]=G("br",null,null,-1)),e(p,{"label-col-flex":"0"},{default:a(()=>[e($,{"html-type":"submit",type:"primary",loading:m.value,onClick:d[13]||(d[13]=h=>r())},{icon:a(()=>[e(I)]),default:a(()=>[_(" "+g(l(n)("page.settings.tab.profile.save")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1},8,["loading"]),e(x,{"target-container":"#top",style:{position:"absolute"}})],64)}}}),fn=Ie(mn,[["__scopeId","data-v-ee934c31"]]),_n=D({__name:"index",setup(o){const{t:n}=q(),{query:t}=ea(),i=t.tab?{info:0,config:1,profile:2,lab:3}[t.tab]??0:0;return(m,r)=>{const s=Ra,d=Kt,u=Ga,f=Ta;return k(),P(f,{"default-active-key":l(i),"lazy-load":"",animation:"",type:"rounded"},{default:a(()=>[(k(),P(s,{key:0},{title:a(()=>[e(l(_t),{type:"icon-icon_status"}),_("  "+g(l(n)("page.settings.tab.info.title")),1)]),default:a(()=>[e(Yl)]),_:1})),(k(),P(s,{key:1},{title:a(()=>[e(d),_("  "+g(l(n)("page.settings.tab.config")),1)]),default:a(()=>[e(gl)]),_:1})),(k(),P(s,{key:2},{title:a(()=>[e(l(_t),{type:"icon-un-config-o"}),_("  "+g(l(n)("page.settings.tab.profile")),1)]),default:a(()=>[e(fn)]),_:1})),(k(),P(s,{key:3},{title:a(()=>[e(u),_("  "+g(l(n)("page.settings.tab.labs")),1)]),default:a(()=>[e(Kl)]),_:1}))]),_:1},8,["default-active-key"])}}}),xn=Object.freeze(Object.defineProperty({__proto__:null,default:_n},Symbol.toStringTag,{value:"Module"}));export{ol as S,xn as i};
