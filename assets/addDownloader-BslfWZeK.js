const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./qbittorrent-kJjGea_U.js","./index-Cwb5cLpW.js","./libs-Bgy1OBX3.js","./arcoDesign-wjYTUtmB.js","./index-jn4yQICc.css","./transmission-DZh58KOW.js","./biglybt-xecEap2t.js","./deluge-CC9jY0TR.js"])))=>i.map(i=>d[i]);
import{C as l,_ as p}from"./index-Cwb5cLpW.js";import{f as A,a6 as N,ao as O,r as L,q as S,j as g,s as y,t as e,y as o,v as r,x as m,a2 as t,E as U,p as H,O as j,u as G,a8 as _}from"./libs-Bgy1OBX3.js";import{T as X}from"./init-B-uuJdp9.js";import{M as v,b as Y,Y as z,X as J,R as K,T as Q,n as W,F as Z,o as $,B as ee,p as oe,S as ae}from"./arcoDesign-wjYTUtmB.js";const te={href:"https://github.com/PBH-BTN/PBH-Adapter-BiglyBT"},se=A({__name:"addDownloader",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(b){const w=_(()=>p(()=>import("./qbittorrent-kJjGea_U.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),T=_(()=>p(()=>import("./transmission-DZh58KOW.js"),__vite__mapDeps([5,1,2,3,4]),import.meta.url)),C=_(()=>p(()=>import("./biglybt-xecEap2t.js"),__vite__mapDeps([6,1,2,3,4]),import.meta.url)),B=_(()=>p(()=>import("./deluge-CC9jY0TR.js"),__vite__mapDeps([7,1,2,3,4]),import.meta.url)),V={[l.qBittorrent]:w,[l.Transmission]:T,[l.BiglyBT]:C,[l.Deluge]:B},{t:n}=N(),a=O(b,"modelValue"),c=L(!1),h=async()=>{c.value=!0;try{const s=await X({name:a.value.downloaderConfig.name,config:a.value.downloaderConfig.config});if(!s.success)throw new Error(s.message)}catch(s){return v.error(s.message),!1}finally{c.value=!1}v.success(n("page.oobe.addDownloader.test.success")),a.value.valid=!0};return(s,d)=>{const D=Y,E=z,M=J,u=K,q=Q,P=W,R=S("i18n-t"),f=Z,x=$,F=ee,I=oe,k=ae;return g(),y(k,{direction:"vertical",style:{width:"70%"}},{default:e(()=>[o(M,{style:{"text-align":"left"}},{default:e(()=>[o(D,null,{default:e(()=>[r(m(t(n)("page.oobe.addDownloader.title")),1)]),_:1}),o(E,null,{default:e(()=>[r(m(t(n)("page.oobe.addDownloader.description")),1)]),_:1})]),_:1}),o(I,{model:a.value.downloaderConfig,"auto-label-width":""},{default:e(()=>[o(f,{field:"config.type",label:t(n)("page.dashboard.editModal.label.type"),required:""},U({default:e(()=>[o(P,{modelValue:a.value.downloaderConfig.config.type,"onUpdate:modelValue":d[0]||(d[0]=i=>a.value.downloaderConfig.config.type=i),type:"button"},{default:e(()=>[o(u,{value:t(l).qBittorrent},{default:e(()=>[r("qBittorrent")]),_:1},8,["value"]),o(q,{content:t(n)("page.dashboard.editModal.transmission.discourage")},{default:e(()=>[o(u,{value:t(l).Transmission,disabled:""},{default:e(()=>[r("Transmission")]),_:1},8,["value"])]),_:1},8,["content"]),o(u,{value:t(l).BiglyBT},{default:e(()=>[r("BiglyBT")]),_:1},8,["value"]),o(u,{value:t(l).Deluge},{default:e(()=>[r("Deluge")]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:2},[a.value.downloaderConfig.config.type===t(l).BiglyBT?{name:"extra",fn:e(()=>[o(R,{keypath:"page.dashboard.editModal.biglybt"},{url:e(()=>[H("a",te,m(t(n)("page.dashboard.editModal.biglybt.url")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"]),o(f,{field:"name",label:t(n)("page.dashboard.editModal.label.name"),required:""},{default:e(()=>[o(x,{modelValue:a.value.downloaderConfig.name,"onUpdate:modelValue":d[1]||(d[1]=i=>a.value.downloaderConfig.name=i),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["label"]),(g(),y(j(V[a.value.downloaderConfig.config.type]),{modelValue:a.value.downloaderConfig.config,"onUpdate:modelValue":d[2]||(d[2]=i=>a.value.downloaderConfig.config=i)},null,8,["modelValue"])),a.value.downloaderConfig.config.type?(g(),y(f,{key:0},{default:e(()=>[o(F,{loading:c.value,onClick:h},{default:e(()=>[r(m(t(n)("page.oobe.addDownloader.test")),1)]),_:1},8,["loading"])]),_:1})):G("",!0)]),_:1},8,["model"])]),_:1})}}});export{se as default};
