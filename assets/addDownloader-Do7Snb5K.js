const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./qbittorrent-CDPCWGpA.js","./index-I3_ErqLR.js","./libs-Bgy1OBX3.js","./arcoDesign-DflKMaDz.js","./index-lJD7IKzm.css","./qbittorrentee-CTPoNUaw.js","./transmission-cwNrSELI.js","./biglybt-DizQOcsd.js","./deluge-BrLc8aSD.js"])))=>i.map(i=>d[i]);
import{C as l,_ as m}from"./index-I3_ErqLR.js";import{T as O}from"./init-C8PpvK-x.js";import{f as L,a6 as N,ao as S,r as U,q as H,j as g,s as y,t as e,y as o,v as r,x as _,a2 as t,E as j,p as G,O as Y,u as Z,a8 as p}from"./libs-Bgy1OBX3.js";import{M as v,c as z,Z as J,Y as K,R as Q,T as W,o as X,F as $,p as ee,B as oe,q as ae,S as te}from"./arcoDesign-DflKMaDz.js";const le={href:"https://github.com/PBH-BTN/PBH-Adapter-BiglyBT"},ie=L({__name:"addDownloader",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(b){const w=p(()=>m(()=>import("./qbittorrent-CDPCWGpA.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),T=p(()=>m(()=>import("./qbittorrentee-CTPoNUaw.js"),__vite__mapDeps([5,1,2,3,4]),import.meta.url)),B=p(()=>m(()=>import("./transmission-cwNrSELI.js"),__vite__mapDeps([6,1,2,3,4]),import.meta.url)),C=p(()=>m(()=>import("./biglybt-DizQOcsd.js"),__vite__mapDeps([7,1,2,3,4]),import.meta.url)),E=p(()=>m(()=>import("./deluge-BrLc8aSD.js"),__vite__mapDeps([8,1,2,3,4]),import.meta.url)),V={[l.qBittorrent]:w,[l.qBittorrentEE]:T,[l.Transmission]:B,[l.BiglyBT]:C,[l.Deluge]:E},{t:n}=N(),a=S(b,"modelValue"),c=U(!1),h=async()=>{c.value=!0;try{const d=await O({name:a.value.downloaderConfig.name,config:a.value.downloaderConfig.config});if(!d.success)throw new Error(d.message)}catch(d){return d instanceof Error&&v.error(d.message),!1}finally{c.value=!1}v.success(n("page.oobe.addDownloader.test.success")),a.value.valid=!0};return(d,s)=>{const D=z,q=J,M=K,i=Q,P=W,R=X,F=H("i18n-t"),f=$,I=ee,x=oe,A=ae,k=te;return g(),y(k,{direction:"vertical",style:{width:"70%"}},{default:e(()=>[o(M,{style:{"text-align":"left"}},{default:e(()=>[o(D,null,{default:e(()=>[r(_(t(n)("page.oobe.addDownloader.title")),1)]),_:1}),o(q,null,{default:e(()=>[r(_(t(n)("page.oobe.addDownloader.description")),1)]),_:1})]),_:1}),o(A,{model:a.value.downloaderConfig,"auto-label-width":""},{default:e(()=>[o(f,{field:"config.type",label:t(n)("page.dashboard.editModal.label.type"),required:""},j({default:e(()=>[o(R,{modelValue:a.value.downloaderConfig.config.type,"onUpdate:modelValue":s[0]||(s[0]=u=>a.value.downloaderConfig.config.type=u),type:"button",style:{overflow:"scroll","overflow-y":"hidden"}},{default:e(()=>[o(i,{value:t(l).qBittorrent},{default:e(()=>[r("qBittorrent")]),_:1},8,["value"]),o(i,{value:t(l).qBittorrentEE},{default:e(()=>[r("qBittorrentEE")]),_:1},8,["value"]),o(i,{value:t(l).BiglyBT},{default:e(()=>[r("BiglyBT")]),_:1},8,["value"]),o(i,{value:t(l).Deluge},{default:e(()=>[r("Deluge")]),_:1},8,["value"]),o(P,{content:t(n)("page.dashboard.editModal.transmission.discourage")},{default:e(()=>[o(i,{value:t(l).Transmission,disabled:""},{default:e(()=>[r("Transmission")]),_:1},8,["value"])]),_:1},8,["content"])]),_:1},8,["modelValue"])]),_:2},[a.value.downloaderConfig.config.type===t(l).BiglyBT?{name:"extra",fn:e(()=>[o(F,{keypath:"page.dashboard.editModal.biglybt"},{url:e(()=>[G("a",le,_(t(n)("page.dashboard.editModal.biglybt.url")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"]),o(f,{field:"name",label:t(n)("page.dashboard.editModal.label.name"),required:""},{default:e(()=>[o(I,{modelValue:a.value.downloaderConfig.name,"onUpdate:modelValue":s[1]||(s[1]=u=>a.value.downloaderConfig.name=u),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["label"]),(g(),y(Y(V[a.value.downloaderConfig.config.type]),{modelValue:a.value.downloaderConfig.config,"onUpdate:modelValue":s[2]||(s[2]=u=>a.value.downloaderConfig.config=u)},null,8,["modelValue"])),a.value.downloaderConfig.config.type?(g(),y(f,{key:0},{default:e(()=>[o(x,{loading:c.value,onClick:h},{default:e(()=>[r(_(t(n)("page.oobe.addDownloader.test")),1)]),_:1},8,["loading"])]),_:1})):Z("",!0)]),_:1},8,["model"])]),_:1})}}});export{ie as default};
