const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./qbittorrent-C38SXS-v.js","./index-Bqr47OVx.js","./libs-BhKr0JPt.js","./arcoDesign-Da7PWqFM.js","./index-BrBRIsxv.css","./qbittorrentee-BOq967yC.js","./transmission-BLr-CPv1.js","./biglybt-Bn-E_Utk.js","./deluge-Drft4_hH.js","./bitcomet-D39E-tXb.js"])))=>i.map(i=>d[i]);
import{C as n,l as u}from"./index-Bqr47OVx.js";import{T as L}from"./init-C--OEzcP.js";import{f as N,a6 as H,am as S,r as U,q as j,j as c,s as v,t as e,y as t,v as r,x as _,a2 as a,E as G,p as J,O as K,u as z,aa as m}from"./libs-BhKr0JPt.js";import{M as y,y as Q,x as W,w as X,R as Y,c as Z,J as $,K as ee,r as oe,B as te,N as ae,S as le}from"./arcoDesign-Da7PWqFM.js";const ne={href:"https://github.com/PBH-BTN/PBH-Adapter-BiglyBT"},ue=N({__name:"addDownloader",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(b){const w=m(()=>u(()=>import("./qbittorrent-C38SXS-v.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),B=m(()=>u(()=>import("./qbittorrentee-BOq967yC.js"),__vite__mapDeps([5,1,2,3,4]),import.meta.url)),C=m(()=>u(()=>import("./transmission-BLr-CPv1.js"),__vite__mapDeps([6,1,2,3,4]),import.meta.url)),T=m(()=>u(()=>import("./biglybt-Bn-E_Utk.js"),__vite__mapDeps([7,1,2,3,4]),import.meta.url)),E=m(()=>u(()=>import("./deluge-Drft4_hH.js"),__vite__mapDeps([8,1,2,3,4]),import.meta.url)),V=m(()=>u(()=>import("./bitcomet-D39E-tXb.js"),__vite__mapDeps([9,1,2,3,4]),import.meta.url)),D={[n.qBittorrent]:w,[n.qBittorrentEE]:B,[n.Transmission]:C,[n.BiglyBT]:T,[n.Deluge]:E,[n.BitComet]:V},{t:d}=H(),l=S(b,"modelValue"),f=U(!1),q=async()=>{f.value=!0;try{const i=await L({name:l.value.downloaderConfig.name,config:l.value.downloaderConfig.config});if(!i.success)throw new Error(i.message)}catch(i){return i instanceof Error&&y.error({content:i.message,resetOnHover:!0}),!1}finally{f.value=!1}y.success({content:d("page.oobe.addDownloader.test.success"),resetOnHover:!0}),l.value.valid=!0};return(i,o)=>{const M=Q,P=W,R=X,s=Y,I=Z,O=$,h=j("i18n-t"),g=ee,x=oe,A=te,F=ae,k=le;return c(),v(k,{direction:"vertical",style:{width:"70%"}},{default:e(()=>[t(R,{style:{"text-align":"left"}},{default:e(()=>[t(M,null,{default:e(()=>[r(_(a(d)("page.oobe.addDownloader.title")),1)]),_:1}),t(P,null,{default:e(()=>[r(_(a(d)("page.oobe.addDownloader.description")),1)]),_:1})]),_:1}),t(F,{model:l.value.downloaderConfig,"auto-label-width":""},{default:e(()=>[t(g,{field:"config.type",label:a(d)("page.dashboard.editModal.label.type"),required:""},G({default:e(()=>[t(O,{modelValue:l.value.downloaderConfig.config.type,"onUpdate:modelValue":o[0]||(o[0]=p=>l.value.downloaderConfig.config.type=p),type:"button",style:{overflow:"scroll","overflow-y":"hidden"}},{default:e(()=>[t(s,{value:a(n).qBittorrent},{default:e(()=>o[3]||(o[3]=[r("qBittorrent")])),_:1},8,["value"]),t(s,{value:a(n).qBittorrentEE},{default:e(()=>o[4]||(o[4]=[r("qBittorrentEE")])),_:1},8,["value"]),t(s,{value:a(n).BiglyBT},{default:e(()=>o[5]||(o[5]=[r("BiglyBT")])),_:1},8,["value"]),t(s,{value:a(n).Deluge},{default:e(()=>o[6]||(o[6]=[r("Deluge")])),_:1},8,["value"]),t(s,{value:a(n).BitComet},{default:e(()=>o[7]||(o[7]=[r("BitComet")])),_:1},8,["value"]),t(I,{content:a(d)("page.dashboard.editModal.transmission.discourage")},{default:e(()=>[t(s,{value:a(n).Transmission,disabled:""},{default:e(()=>o[8]||(o[8]=[r("Transmission")])),_:1},8,["value"])]),_:1},8,["content"])]),_:1},8,["modelValue"])]),_:2},[l.value.downloaderConfig.config.type===a(n).BiglyBT?{name:"extra",fn:e(()=>[t(h,{keypath:"page.dashboard.editModal.biglybt"},{url:e(()=>[J("a",ne,_(a(d)("page.dashboard.editModal.biglybt.url")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"]),t(g,{field:"name",label:a(d)("page.dashboard.editModal.label.name"),required:""},{default:e(()=>[t(x,{modelValue:l.value.downloaderConfig.name,"onUpdate:modelValue":o[1]||(o[1]=p=>l.value.downloaderConfig.name=p),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["label"]),(c(),v(K(D[l.value.downloaderConfig.config.type]),{modelValue:l.value.downloaderConfig.config,"onUpdate:modelValue":o[2]||(o[2]=p=>l.value.downloaderConfig.config=p)},null,8,["modelValue"])),l.value.downloaderConfig.config.type?(c(),v(g,{key:0},{default:e(()=>[t(A,{loading:f.value,onClick:q},{default:e(()=>[r(_(a(d)("page.oobe.addDownloader.test")),1)]),_:1},8,["loading"])]),_:1})):z("",!0)]),_:1},8,["model"])]),_:1})}}});export{ue as default};
